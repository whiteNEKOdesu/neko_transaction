## neko_transaction接口文档

### 1 member用户微服务

- api均以微服务名开头从 gateway 访问微服务，去掉微服务名直接访问微服务



#### 1.1 MemberInfoController

##### 1.1.1 用户登录

- post请求，请求体传参

```bash
$baseUrl/member/member_info/login
```



- 参数

| 参数名       | 参数含义                      |
| ------------ | ----------------------------- |
| userName     | 用户名                        |
| userPassword | 密码，需要RSA加密后Base64编码 |



- 示例

```bash
{
    "userName": "NEKO",
    "userPassword": "QWTfNFa5JBWNDjawnGp2HShWBIWSXagEmQ/bttkmApglyPbdGRDUAwUzGgI/DGIZyhimznKlB0FTQtnOFWm93A0uzEKFKtgiOHxiOAouPR1AU8erCiSFwH0LvqcsdhTVzx3BRa5OvEfq2jsSQNjNxnAhcEL8YV4VjOVbBWnH0Bo="
}
```



- 响应格式

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "weightTypes": [
            "base",
            "*"
        ],
        "roleTypes": [
            "user",
            "*"
        ],
        "token": "827cf743-03ce-4c55-b503-1fe3bfa40049",
        "gender": 1,
        "realName": "realName",
        "idCardNumber": "idCardNumber",
        "mail": "NEKO@NEKO.com",
        "balance": 0.00,
        "createTime": "2024-01-15T11:33:37",
        "updateTime": "2024-01-18T10:44:30"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.2 用户注册

- post请求，url传参

```bash
$baseURl/member/member_info/register
```



- 参数

| 参数名       | 参数含义 |
| ------------ | -------- |
| userName     | 用户名   |
| userPassword | 密码     |
| email        | 邮箱     |
| code         | 验证码   |



- 示例

```bash
$baseUrl/member/member_info/register?userName=koori&userPassword=Liekonggenji2&email=2665249580@qq.com&code=548822
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.3 确认用户名是否重复

- get请求，url传参

```bash
$baseUrl/member/member_info/user_name_is_repeat
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| userName | 用户名   |



- 示例

```bash
$baseUrl/member/member_info/user_name_is_repeat?userName=$userName
```



- 响应结果

```json
{
    "result": true,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.4 发送注册邮件

- post请求

```bash
$baseUrl/member/member_info/send_register_mail
```



- 参数

| 参数名 | 参数含义   |
| ------ | ---------- |
| mail   | 接收者邮件 |



- 示例

```bash
$baseUrl/member/member_info/send_register_mail?mail=$mail
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.5 添加用户积分

- post请求，请求体传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/member/member_info/add_point
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | 用户uid  |
| point  | 添加积分 |



- 示例

```json
{
    "uid": "1642067605873348610",
    "point": 500
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.6 获取用户自身的详细信息

- get请求
- 需要登录状态

```bash
$baseUrl/member/member_info/user_self_info
```



- 响应结果

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "weightTypes": [
            "base",
            "*"
        ],
        "roleTypes": [
            "user",
            "*"
        ],
        "token": null,
        "gender": 1,
        "realName": "realName",
        "idCardNumber": "idCardNumber",
        "mail": "NEKO@NEKO.com",
        "balance": 0.00,
        "createTime": "2024-01-15T11:33:37",
        "updateTime": "2024-01-18T10:44:30"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.7 修改用户名

- post请求，url传参
- 需要登录状态

```bash
$baseUrl/member/member_info/update_user_name
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| userName | 用户名   |



- 示例

```bash
$baseUrl/member/member_info/update_user_name?userName=koori
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.8 修改密码

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/member/member_info/update_user_password
```



- 参数

| 参数名       | 参数含义                        |
| ------------ | ------------------------------- |
| userPassword | 原密码，需要RSA加密后Base64编码 |
| todoPassword | 新密码，需要RSA加密后Base64编码 |



- 示例

```json
{
    "userPassword": "iD6HqGdF9KFd9IdwMETzPWNzqI4BwOwvOeoWsnhki++gzponD0vjJlRqIOwVN/B3HStTlicvf3SaDjSFRrG8ePAuqNtjBptSgghwZrHR0WcGY8Rf5FJSReiq1Th5lJmc66bfwlH8mB3Kn7MqM1t2fXIe41x9cTqVXtG6j4L6cc0=",
    "todoPassword": "G7RlQuZluYEVraZ7fFKnFhjhS/5/85L45Bvr0Q/Ceh/qMxAdtq4gNF8yCg1LzPgxB302YpQpVBkcXuwxy3HqUNdZjdhHRyxDbCFm69K8Co6Yf2trYhH5z2COJ8WTzYFfPVgDzhgCf9RL5mg1hQArI3yOBIuJ23P5aPl4TYXZVZA="
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.9 修改头像

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/member/member_info/update_user_image_path
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| file   | 文件     |



- 响应结果

```json
{
    "result": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_convenient/2023-06-25/cdacafeb-8a7a-4c79-b3b3-145520c9d097.png",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.10 用户学号，密码登录

- post请求，请求体传参

```bash
$baseUrl/member/member_info/uid_login
```



- 参数

| 参数名       | 参数含义                      |
| ------------ | ----------------------------- |
| uid          | 学号                          |
| userPassword | 密码，需要RSA加密后Base64编码 |



- 示例

```json
{
    "uid": "1642067605873348610",
    "userPassword": "QWTfNFa5JBWNDjawnGp2HShWBIWSXagEmQ/bttkmApglyPbdGRDUAwUzGgI/DGIZyhimznKlB0FTQtnOFWm93A0uzEKFKtgiOHxiOAouPR1AU8erCiSFwH0LvqcsdhTVzx3BRa5OvEfq2jsSQNjNxnAhcEL8YV4VjOVbBWnH0Bo="
}
```



- 响应结果

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "weightTypes": [
            "base",
            "*"
        ],
        "roleTypes": [
            "user",
            "*"
        ],
        "token": "827cf743-03ce-4c55-b503-1fe3bfa40049",
        "gender": 1,
        "realName": "钟昊辰",
        "idCardNumber": "420881200101184053",
        "mail": "2665249580@qq.com",
        "balance": 15.00,
        "createTime": "2024-01-15T11:33:37",
        "updateTime": "2024-02-07T10:25:11"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.11发送密码重置邮件

- post请求，url传参

```bash
$baseUrl/member/member_info/send_user_password_reset_code
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | 学号     |



- 示例

```bash
$baseUrl/member/member_info/send_user_password_reset_code?uid=1642067605873348610
```



- 响应结果

```json
{
    "result": "2665249580@qq.com",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.12 重置密码

- post请求，请求体传参

```bash
$baseUrl/member/member_info/reset_user_password
```



- 参数

| 参数名       | 参数含义                        |
| ------------ | ------------------------------- |
| uid          | 学号                            |
| todoPassword | 新密码，需要RSA加密后Base64编码 |
| code         | 验证码                          |



- 示例

```json
{
    "uid": "1642067605873348610",
    "todoPassword": "QWTfNFa5JBWNDjawnGp2HShWBIWSXagEmQ/bttkmApglyPbdGRDUAwUzGgI/DGIZyhimznKlB0FTQtnOFWm93A0uzEKFKtgiOHxiOAouPR1AU8erCiSFwH0LvqcsdhTVzx3BRa5OvEfq2jsSQNjNxnAhcEL8YV4VjOVbBWnH0Bo=",
    "code": "575013"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.13 管理员添加学生

- put请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/member_info/new_member_info
```



- 参数

| 参数名       | 参数含义           |
| ------------ | ------------------ |
| uid          | 学号               |
| classId      | 班级               |
| gender       | 性别，1->男，0->女 |
| realName     | 真实姓名           |
| idCardNumber | 身份证号           |



- 示例

```json
{
    "uid": "2022220187",
    "classId": "z1312202",
    "gender": true,
    "realName": "NEKO",
    "idCardNumber": "idCardNumber"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.14 管理员根据学号删除用户

- delete请求，url传参
- 需要root角色
- 需要登录状态

```bash
$baseUrl/member/member_info/delete_by_id
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | 学号     |



- 示例

```bash
$baseUrl/member/member_info/delete_by_id?uid=todo_delete_uid
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.15 分页查询学生及所属二级学院，专业，班级信息

- post请求，请求体传参

```bash
$baseUrl/member/member_info/member_with_school_info_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |
| objectId    | 班级id           |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "uid": "1642067605873348610",
                "classId": "z1312202",
                "majorId": 1,
                "majorName": "软件工程",
                "collegeId": 1,
                "collegeName": "软件工程学院",
                "userName": "NEKO",
                "userImagePath": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-07-25/1430d607-b0a4-4f83-aa5c-bedb89a0d888_301882efc3b3dcabaad03a7b607ab228.jpg",
                "gender": true,
                "realName": "钟昊辰",
                "idCardNumber": "420881200101184053",
                "mail": "NEKO@NEKO.com",
                "createTime": "2024-01-15T11:33:37",
                "updateTime": "2024-01-17T15:05:08"
            },
            {
                "uid": "2022djy",
                "classId": "z1312202",
                "majorId": 1,
                "majorName": "软件工程",
                "collegeId": 1,
                "collegeName": "软件工程学院",
                "userName": null,
                "userImagePath": null,
                "gender": true,
                "realName": "杜金阳",
                "idCardNumber": "000000000000000000",
                "mail": null,
                "createTime": "2024-01-17T15:50:34",
                "updateTime": "2024-01-17T15:50:34"
            },
            {
                "uid": "2022zr",
                "classId": "z1312202",
                "majorId": 1,
                "majorName": "软件工程",
                "collegeId": 1,
                "collegeName": "软件工程学院",
                "userName": null,
                "userImagePath": null,
                "gender": true,
                "realName": "周锐",
                "idCardNumber": "000000000000000000",
                "mail": null,
                "createTime": "2024-01-17T15:49:42",
                "updateTime": "2024-01-17T15:49:42"
            },
            {
                "uid": "2022zxq",
                "classId": "z1312202",
                "majorId": 1,
                "majorName": "软件工程",
                "collegeId": 1,
                "collegeName": "软件工程学院",
                "userName": null,
                "userImagePath": null,
                "gender": true,
                "realName": "周贤青",
                "idCardNumber": "000000000000000000",
                "mail": null,
                "createTime": "2024-01-17T15:50:11",
                "updateTime": "2024-01-17T15:50:11"
            }
        ],
        "total": 4,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.16 根据学号获取用户公开信息

- get请求，url传参

```bash
$baseUrl/member/member_info/public_member_info
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | 学号     |



- 示例

```bash
$baseUrl/member/member_info/public_member_info?uid=1642067605873348610
```



- 响应结果

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "gender": 1,
        "realName": "钟昊辰"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.17 添加用户余额

- post请求，请求体传参传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/member/member_info/add_balance
```



- 参数

| 参数名    | 参数含义   |
| --------- | ---------- |
| uid       | 学号       |
| addNumber | 添加的余额 |



- 示例

```json
{
    "uid": "1642067605873348610",
    "addNumber": 15
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.2 AdminInfoController

##### 1.2.1 管理员登录

- post请求，url传参

```bash
$baseUrl/member/admin_info/log_in
```



- 参数

| 参数名       | 参数含义          |
| ------------ | ----------------- |
| userName     | 用户名            |
| userPassword | 密码，需要RSA加密 |



- 示例

```bash
{
    "userName": "NEKO",
    "userPassword": "K1fPQ3TFolOdP56BES51CL25KW/VcZVcYPR9GyWG5Zr657Ke767sVU+QzlxDATmJh7fvq30Png+ptJMAuJonlfKn1TmeH6GS5iEzmXjltBgKtmm6tCtWMFItNNlPtUczXNpoE1TiYkI99WwIKYvuYLSKSJK/vCGHNWx8/iUhTL4="
}
```



- 响应格式

```json
{
    "result": {
        "adminId": "1642398369596944385",
        "userName": "NEKO",
        "userImagePath": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-07-25/1430d607-b0a4-4f83-aa5c-bedb89a0d888_301882efc3b3dcabaad03a7b607ab228.jpg",
        "token": "70ab5cee-a4ff-4103-a3d0-a8dd8de317d9",
        "weightTypes": [
            "*"
        ],
        "roleTypes": [
            "*"
        ],
        "createAdminId": null,
        "isDelete": false,
        "createTime": "2024-01-15T11:50:00",
        "updateTime": "2024-01-15T11:50:00"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.2.2 新增管理员

- put请求，请求体传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/admin_info/new_admin
```



- 参数

| 参数名       | 参数含义     |
| ------------ | ------------ |
| userName     | 用户名       |
| userPassword | 密码         |
| roleIds      | 角色id，数组 |



- 示例

```json
{
    "userName": "$userName",
    "userPassword": "$userPassword",
    "roleIds": [5, 15]
}
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.2.3 确认用户名是否重复

- get请求，url传参
- 需要root角色
- 需要登录状态

```bash
$baseUrl/member/admin_info/user_name_is_repeat?userName=NEKO
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| userName | 用户名   |



- 示例

```bash
$baseUrl/member/admin_info/user_name_is_repeat?userName=NEKO
```



- 响应格式

```json
{
    "result": true,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.3 UserWeightController

##### 1.3.1 管理员新增普通权限

- put请求，url传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/new_user_weight
```



- 参数

| 参数名     | 参数含义 |
| ---------- | -------- |
| weightType | 权限名   |



- 示例

```bash
$baseUrl/member/user_weight/new_user_weight?weightType=$weightType
```



- 响应状态

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.2 管理员分页查询普通权限信息

- post请求，请求体传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/weight_info
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应格式

```json
{
    "result": {
        "records": [
            {
                "weightId": 1,
                "weightType": "base",
                "createTime": "2023-03-27T16:03:51",
                "updateTime": "2023-03-27T16:03:54"
            },
            {
                "weightId": 2,
                "weightType": "*",
                "createTime": "2023-04-01T21:18:11",
                "updateTime": "2023-04-01T21:18:14"
            },
            {
                "weightId": 3,
                "weightType": "high_read",
                "createTime": "2023-04-01T21:24:27",
                "updateTime": "2023-04-01T21:24:29"
            },
            {
                "weightId": 4,
                "weightType": "high_write",
                "createTime": "2023-04-01T21:24:43",
                "updateTime": "2023-04-01T21:24:46"
            },
            {
                "weightId": 5,
                "weightType": "root_read",
                "createTime": "2023-04-02T13:37:23",
                "updateTime": "2023-04-02T13:37:26"
            },
            {
                "weightId": 6,
                "weightType": "root_write",
                "createTime": "2023-04-02T13:37:34",
                "updateTime": "2023-04-02T13:37:36"
            }
        ],
        "total": 6,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.3 管理员查询指定roleId还未绑定普通权限信息

- post请求，url传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/unbind_weight_info
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| roleId | 角色id   |



- 示例

```bash
$baseUrl/member/user_weight/unbind_weight_info?roleId=1
```



- 响应格式

```json
{
    "result": [
        {
            "weightId": 2,
            "weightType": "*",
            "createTime": "2023-04-01T21:18:11",
            "updateTime": "2023-04-01T21:18:14"
        },
        {
            "weightId": 3,
            "weightType": "high_read",
            "createTime": "2023-04-01T21:24:27",
            "updateTime": "2023-04-01T21:24:29"
        },
        {
            "weightId": 4,
            "weightType": "high_write",
            "createTime": "2023-04-01T21:24:43",
            "updateTime": "2023-04-01T21:24:46"
        },
        {
            "weightId": 5,
            "weightType": "root_read",
            "createTime": "2023-04-02T13:37:23",
            "updateTime": "2023-04-02T13:37:26"
        },
        {
            "weightId": 6,
            "weightType": "root_write",
            "createTime": "2023-04-02T13:37:34",
            "updateTime": "2023-04-02T13:37:36"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.4 管理员新增会员等级类型权限

- put请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/new_member_level_weight
```



- 参数

| 参数名     | 参数含义 |
| ---------- | -------- |
| weightType | 权限名   |



- 示例

```bash
$baseUrl/member/user_weight/new_member_level_weight?weightType=1类视频
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.5 管理员获取指定roleId还未绑定会员等级权限信息

- post请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/unbind_member_level_weight_info
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| roleId | 角色名   |



- 示例

```bash
$baseUrl/member/user_weight/unbind_member_level_weight_info?roleId=11
```



- 响应结果

```json
{
    "result": [
        {
            "weightId": 16,
            "weightType": "1类视频",
            "type": 1,
            "createTime": "2023-07-26T10:45:56",
            "updateTime": "2023-07-26T10:45:58"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.6 管理员分页查询会员等级类型权限信息

- post请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/member_level_weight_info
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "queryWords": "courier_read",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "weightId": 11,
                "weightType": "courier_read",
                "type": 1,
                "createTime": "2023-05-25T12:04:27",
                "updateTime": "2023-05-25T12:04:27"
            }
        ],
        "total": 1,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.7 获取会员等级类型全部权限信息

- get请求

```bash
$baseUrl/member/user_weight/member_level_weight_infos
```



- 响应结果

```json
{
    "result": [
        {
            "weightId": 16,
            "weightType": "基本视频观看",
            "type": 1,
            "isDelete": false,
            "createTime": "2023-07-26T16:00:49",
            "updateTime": "2023-07-26T16:00:49"
        },
        {
            "weightId": 17,
            "weightType": "1级视频观看",
            "type": 1,
            "isDelete": false,
            "createTime": "2023-07-26T16:08:59",
            "updateTime": "2023-07-26T16:08:59"
        },
        {
            "weightId": 18,
            "weightType": "2级视频观看",
            "type": 1,
            "isDelete": false,
            "createTime": "2023-07-26T16:09:12",
            "updateTime": "2023-07-26T16:09:12"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.8 根据weightId获取会员等级类型权限名

- get请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/member/user_weight/member_level_weight_name_by_weight_id
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| weightId | 权限id   |



- 示例

```bash
$baseUrl/member/user_weight/member_level_weight_name_by_weight_id?weightId=16
```



- 响应结果

```json
{
    "result": "基本视频观看",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.9 管理员删除指定weightId普通权限类型权限名

- delete请求，url传参
- 需要登录状态
- 需要root角色

```bash
$baseUrl/member/user_weight/delete_weight
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| weightId | 权限id   |



- 示例

```bash
$baseUrl/member/user_weight/delete_weight?weightId=19
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.10 管理员删除指定weightId会员等级类型权限名

- delete请求，url传参
- 需要登录状态
- 需要admin角色

```bash
$baseUrl/member/user_weight/delete_member_level_weight
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| weightId | 权限id   |



- 示例

```bash
$baseUrl/member/user_weight/delete_member_level_weight?weightId=21
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.4 UserRoleController

##### 1.4.1 管理员新增非会员等级类型角色信息角色

- put请求，请求体传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/user_role/new_user_role
```



- 参数

| 参数名   | 参数含义                                         |
| -------- | ------------------------------------------------ |
| roleType | 角色名                                           |
| type     | 角色类型种类，0->普通角色类型，1->管理员角色类型 |



- 示例

```json
{
    "roleType": "base_admin",
    "type": 0
}
```



- 响应状态

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.4.2 管理员分页查询非会员等级类型角色信息

- post请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/user_role/role_info
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应状态

```json
{
    "result": {
        "records": [
            {
                "roleId": 1,
                "roleType": "user",
                "createTime": "2023-03-27T16:03:21",
                "updateTime": "2023-03-27T16:03:24"
            },
            {
                "roleId": 2,
                "roleType": "*",
                "createTime": "2023-04-01T21:17:57",
                "updateTime": "2023-04-01T21:18:00"
            },
            {
                "roleId": 3,
                "roleType": "admin",
                "createTime": "2023-04-01T21:21:11",
                "updateTime": "2023-04-01T21:21:13"
            },
            {
                "roleId": 4,
                "roleType": "root",
                "createTime": "2023-04-02T13:36:49",
                "updateTime": "2023-04-02T13:36:52"
            }
        ],
        "total": 4,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.4.3 管理员查询管理员角色信息

- post请求，无参数
- 需要root角色
- 需要登录状态

```bash
$baseUrl/member/user_role/admin_role_info
```



- 响应格式

```json
{
    "result": [
        {
            "roleId": 2,
            "roleType": "*",
            "isAdmin": true,
            "createTime": "2023-04-01T21:17:57",
            "updateTime": "2023-04-01T21:18:00"
        },
        {
            "roleId": 3,
            "roleType": "admin",
            "isAdmin": true,
            "createTime": "2023-04-01T21:21:11",
            "updateTime": "2023-04-01T21:21:13"
        },
        {
            "roleId": 4,
            "roleType": "root",
            "isAdmin": true,
            "createTime": "2023-04-02T13:36:49",
            "updateTime": "2023-04-02T13:36:52"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.4.4 新增会员等级类型角色信息角色

- put请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/user_role/new_member_level_role
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| roleType | 角色名   |



- 示例

```bash
$baseUrl/member/user_role/new_member_level_role?roleType=普通会员
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.4.5 管理员删除普通角色，管理员角色类型角色信息

- delete请求，url传参
- 需要root角色
- 需要登录状态

```bash
$baseUrl/member/user_role/delete_role
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| roleId | 角色id   |



- 示例

```bash
$baseUrl/member/user_role/delete_role?roleId=17
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.4.6 删除会员等级角色类型角色信息

- delete请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/user_role/delete_member_level_role
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| roleId | 角色id   |



- 示例

```bash
$baseUrl/member/user_role/delete_member_level_role?roleId=19
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.5 WeightRoleRelationController

##### 1.5.1 管理员新增普通类型权重，角色关系

- put请求，请求体传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/weight_role_relation/new_relations
```



- 参数

| 参数名    | 参数含义     |
| --------- | ------------ |
| roleId    | 角色id       |
| weightIds | 权限id，数组 |



- 示例

```json
{
    "roleId": 1,
    "weightIds": [5, 15]
}
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.5.2 管理员获指定roleId权限，角色关系

- post请求，url传参
- 需要admin权限
- 需要登录状态

```bash
$baseUrl/member/weight_role_relation/relation_info_by_role_id
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| roleId | 角色id   |



- 示例

```bash
$baseUrl/member/weight_role_relation/relation_info_by_role_id?roleId=1
```



- 响应格式

```json
{
    "result": [
        {
            "relationId": 1,
            "weightId": 1,
            "weightType": "base",
            "roleId": 1,
            "roleType": "user",
            "createTime": "2023-03-27T16:04:06",
            "updateTime": "2023-03-27T16:04:08"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.5.3 获指定uid权限，角色关系

- post请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/member/weight_role_relation/relation_info_by_uid
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | uid      |



- 示例

```bash
$baseUrl/member/weight_role_relation/relation_info_by_uid?uid=1642067605873348610
```



- 响应格式

```json
{
    "result": [
        {
            "relationId": 1,
            "weightId": 1,
            "weightType": "base",
            "roleId": 1,
            "roleType": "user",
            "createTime": "2023-03-27T16:04:06",
            "updateTime": "2023-03-27T16:04:08"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.5.4 管理员新增会员等级类型权限，角色关系

- put请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/weight_role_relation/new_member_level_relations
```



- 参数

| 参数名    | 参数含义     |
| --------- | ------------ |
| roleId    | 角色id       |
| weightIds | 权限id，数组 |



- 示例

```json
{
    "roleId": 11,
    "weightIds": [11, 12]
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.6 UserRoleRelationController

##### 1.6.1 批量新增uid，角色关系，内部微服务调用

- put请求，请求体传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/member/user_role_relation/new_user_role_relation
```



- 参数

| 参数名  | 参数含义     |
| ------- | ------------ |
| uid     | uid          |
| roleIds | 角色id，数组 |



- 示例

```json
{
    "uid": "1642067605873348610",
    "roleIds": [3, 4]
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.7 CollegeInfoController

##### 1.7.1 管理员添加二级学院

- post请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/college_info/new_college_info
```



- 参数

| 参数名      | 参数含义   |
| ----------- | ---------- |
| collegeName | 二级学院名 |



- 示例

```bash
$baseUrl/member/college_info/new_college_info?collegeName=NEKO
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.7.2 分页查询二级学院信息

- post请求，请求体传参

```bash
$baseUrl/member/college_info/college_info_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "collegeId": 18,
                "collegeName": "动画艺术学院",
                "createTime": "2024-01-16T15:52:39",
                "updateTime": "2024-01-16T15:52:39"
            },
            {
                "collegeId": 17,
                "collegeName": "美术学院",
                "createTime": "2024-01-16T15:52:13",
                "updateTime": "2024-01-16T15:52:13"
            },
            {
                "collegeId": 16,
                "collegeName": "传媒学院",
                "createTime": "2024-01-16T15:51:57",
                "updateTime": "2024-01-16T15:51:57"
            },
            {
                "collegeId": 15,
                "collegeName": "机械制造学院",
                "createTime": "2024-01-16T15:49:58",
                "updateTime": "2024-01-16T15:49:58"
            },
            {
                "collegeId": 14,
                "collegeName": "数字媒体技术学院",
                "createTime": "2024-01-16T15:49:32",
                "updateTime": "2024-01-16T15:49:32"
            },
            {
                "collegeId": 13,
                "collegeName": "大数据学院",
                "createTime": "2024-01-16T15:48:54",
                "updateTime": "2024-01-16T15:48:54"
            },
            {
                "collegeId": 12,
                "collegeName": "人工智能学院",
                "createTime": "2024-01-16T15:48:47",
                "updateTime": "2024-01-16T15:48:47"
            },
            {
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-16T15:48:37",
                "updateTime": "2024-01-16T15:48:37"
            }
        ],
        "total": 10,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.7.3 管理员根据 id 删除二级学院信息

- delete请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/college_info/delete_by_id
```



- 参数

| 参数名    | 参数含义   |
| --------- | ---------- |
| collegeId | 二级学院id |



- 示例

```bash
$baseUrl/member/college_info/delete_by_id?collegeId=19
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.7.4 查询所有二级学院信息

- get请求

```bash
$baseUrl/member/college_info/all_college_info
```



- 响应结果

```json
{
    "result": [
        {
            "collegeId": 1,
            "collegeName": "软件工程学院",
            "createTime": "2024-01-15T11:30:03",
            "updateTime": "2024-01-15T11:30:03"
        },
        {
            "collegeId": 10,
            "collegeName": "通信学院",
            "createTime": "2024-01-16T15:48:08",
            "updateTime": "2024-01-16T15:48:08"
        },
        {
            "collegeId": 11,
            "collegeName": "计算机与科学学院",
            "createTime": "2024-01-16T15:48:37",
            "updateTime": "2024-01-16T15:48:37"
        },
        {
            "collegeId": 12,
            "collegeName": "人工智能学院",
            "createTime": "2024-01-16T15:48:47",
            "updateTime": "2024-01-16T15:48:47"
        },
        {
            "collegeId": 13,
            "collegeName": "大数据学院",
            "createTime": "2024-01-16T15:48:54",
            "updateTime": "2024-01-16T15:48:54"
        },
        {
            "collegeId": 14,
            "collegeName": "数字媒体技术学院",
            "createTime": "2024-01-16T15:49:32",
            "updateTime": "2024-01-16T15:49:32"
        },
        {
            "collegeId": 15,
            "collegeName": "机械制造学院",
            "createTime": "2024-01-16T15:49:58",
            "updateTime": "2024-01-16T15:49:58"
        },
        {
            "collegeId": 16,
            "collegeName": "传媒学院",
            "createTime": "2024-01-16T15:51:57",
            "updateTime": "2024-01-16T15:51:57"
        },
        {
            "collegeId": 17,
            "collegeName": "美术学院",
            "createTime": "2024-01-16T15:52:13",
            "updateTime": "2024-01-16T15:52:13"
        },
        {
            "collegeId": 18,
            "collegeName": "动画艺术学院",
            "createTime": "2024-01-16T15:52:39",
            "updateTime": "2024-01-16T15:52:39"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.8 MajorInfoController

##### 1.8.1 添加专业信息

- post请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/major_info/new_major_info
```



- 参数

| 参数名    | 参数含义             |
| --------- | -------------------- |
| collegeId | 专业所属的二级学院id |
| majorName | 专业名               |



- 示例

```json
{
    "collegeId": 10,
    "majorName": "专业名"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.8.2 分页查询二级学院信息

- post请求，请求体传参

```bash
$baseUrl/member/major_info/major_info_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "majorId": 11,
                "collegeId": 18,
                "collegeName": "动画艺术学院",
                "majorName": "动画制作技术",
                "createTime": "2024-01-17T09:36:58",
                "updateTime": "2024-01-17T09:36:58"
            },
            {
                "majorId": 10,
                "collegeId": 17,
                "collegeName": "美术学院",
                "majorName": "美术艺术",
                "createTime": "2024-01-17T09:36:46",
                "updateTime": "2024-01-17T09:36:46"
            },
            {
                "majorId": 9,
                "collegeId": 16,
                "collegeName": "传媒学院",
                "majorName": "新闻媒体技术",
                "createTime": "2024-01-17T09:36:32",
                "updateTime": "2024-01-17T09:36:32"
            },
            {
                "majorId": 8,
                "collegeId": 15,
                "collegeName": "机械制造学院",
                "majorName": "机械制造",
                "createTime": "2024-01-17T09:34:28",
                "updateTime": "2024-01-17T09:34:28"
            },
            {
                "majorId": 7,
                "collegeId": 14,
                "collegeName": "数字媒体技术学院",
                "majorName": "数字媒体技术",
                "createTime": "2024-01-17T09:34:17",
                "updateTime": "2024-01-17T09:34:17"
            },
            {
                "majorId": 6,
                "collegeId": 13,
                "collegeName": "大数据学院",
                "majorName": "大数据",
                "createTime": "2024-01-17T09:34:04",
                "updateTime": "2024-01-17T09:34:04"
            },
            {
                "majorId": 5,
                "collegeId": 12,
                "collegeName": "人工智能学院",
                "majorName": "人工智能",
                "createTime": "2024-01-17T09:33:53",
                "updateTime": "2024-01-17T09:33:53"
            },
            {
                "majorId": 4,
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "majorName": "计算机科学与技术",
                "createTime": "2024-01-17T09:33:38",
                "updateTime": "2024-01-17T09:33:38"
            }
        ],
        "total": 10,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.8.3 管理员根据专业id删除专业信息

- delete请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/major_info/delete_by_id
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| majorId | 专业id   |



- 示例

```bash
$baseUrl/member/major_info/delete_by_id?majorId=12
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.8.4 获取所有完整专业名信息

- get请求

```bash
$baseUrl/member/major_info/all_full_major_name
```



- 响应结果

```json
{
    "result": [
        {
            "majorId": 1,
            "fullMajorName": "软件工程学院-软件工程"
        },
        {
            "majorId": 3,
            "fullMajorName": "通信学院-通信工程"
        },
        {
            "majorId": 4,
            "fullMajorName": "计算机与科学学院-计算机科学与技术"
        },
        {
            "majorId": 5,
            "fullMajorName": "人工智能学院-人工智能"
        },
        {
            "majorId": 6,
            "fullMajorName": "大数据学院-大数据"
        },
        {
            "majorId": 7,
            "fullMajorName": "数字媒体技术学院-数字媒体技术"
        },
        {
            "majorId": 8,
            "fullMajorName": "机械制造学院-机械制造"
        },
        {
            "majorId": 9,
            "fullMajorName": "传媒学院-新闻媒体技术"
        },
        {
            "majorId": 10,
            "fullMajorName": "美术学院-美术艺术"
        },
        {
            "majorId": 11,
            "fullMajorName": "动画艺术学院-动画制作技术"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.9 ClassInfoController

##### 1.9.1 管理员添加班级信息

- put请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/class_info/new_class_info
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| majorId | 专业id   |



- 示例

```json
{
    "classId": "班级名",
    "majorId": 1
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.9.2 分页查询班级信息

- post请求，请求体传参

```bash
$baseUrl/member/class_info/class_info_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |
| objectId    | 二级学院id，可选 |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "classId": "j20221001",
                "majorId": 4,
                "majorName": "计算机科学与技术",
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-17T11:40:40",
                "updateTime": "2024-01-17T11:40:40"
            },
            {
                "classId": "j20221002",
                "majorId": 4,
                "majorName": "计算机科学与技术",
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-17T11:40:52",
                "updateTime": "2024-01-17T11:40:52"
            },
            {
                "classId": "j20221003",
                "majorId": 4,
                "majorName": "计算机科学与技术",
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-17T11:41:10",
                "updateTime": "2024-01-17T11:41:10"
            },
            {
                "classId": "j20221004",
                "majorId": 4,
                "majorName": "计算机科学与技术",
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-17T11:41:20",
                "updateTime": "2024-01-17T11:41:20"
            },
            {
                "classId": "t20221001",
                "majorId": 3,
                "majorName": "通信工程",
                "collegeId": 10,
                "collegeName": "通信学院",
                "createTime": "2024-01-17T11:39:34",
                "updateTime": "2024-01-17T11:39:34"
            },
            {
                "classId": "t20221002",
                "majorId": 3,
                "majorName": "通信工程",
                "collegeId": 10,
                "collegeName": "通信学院",
                "createTime": "2024-01-17T11:39:51",
                "updateTime": "2024-01-17T11:39:51"
            },
            {
                "classId": "t20221003",
                "majorId": 3,
                "majorName": "通信工程",
                "collegeId": 10,
                "collegeName": "通信学院",
                "createTime": "2024-01-17T11:39:59",
                "updateTime": "2024-01-17T11:39:59"
            },
            {
                "classId": "t20221004",
                "majorId": 3,
                "majorName": "通信工程",
                "collegeId": 10,
                "collegeName": "通信学院",
                "createTime": "2024-01-17T11:40:09",
                "updateTime": "2024-01-17T11:40:09"
            }
        ],
        "total": 11,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.9.3 管理员根据班级id删除班级信息

- delete请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/class_info/delete_by_id
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| classId | 班级id   |



- 示例

```bash
$baseUrl/member/class_info/delete_by_id?classId=todo_delete_id
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.10 MemberChatInfoController

##### 1.10.1 添加聊天消息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/member/member_chat_info/new_chat_info
```



- 参数

| 参数名 | 参数含义               |
| ------ | ---------------------- |
| toId   | 聊天消息发送对象的 uid |
| body   | 聊天消息，Json 格式    |



- 示例

```json
{
    "toId": "1642067605873348610",
    "body": "{\"text\": \"msg\" }"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.10.2 分页查询指定的聊天对象学号的聊天信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/member/member_chat_info/page_query_by_chat_id
```



- 参数

| 参数名      | 参数含义     |
| ----------- | ------------ |
| currentPage | 当前页数     |
| limited     | 每页数量     |
| objectId    | 聊天对象学号 |



- 示例

```json
{
    "objectId": "1642067605873348610",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "chatId": 16,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"NEKO\"}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:49",
                "updateTime": "2024-02-04T14:42:49"
            },
            {
                "chatId": 15,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"NEKO\"}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:48",
                "updateTime": "2024-02-04T14:42:48"
            },
            {
                "chatId": 14,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:45",
                "updateTime": "2024-02-04T14:42:45"
            },
            {
                "chatId": 13,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:45",
                "updateTime": "2024-02-04T14:42:45"
            },
            {
                "chatId": 12,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:45",
                "updateTime": "2024-02-04T14:42:45"
            },
            {
                "chatId": 11,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:44",
                "updateTime": "2024-02-04T14:42:44"
            },
            {
                "chatId": 10,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:44",
                "updateTime": "2024-02-04T14:42:44"
            },
            {
                "chatId": 9,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:44",
                "updateTime": "2024-02-04T14:42:44"
            }
        ],
        "total": 14,
        "size": 8,
        "current": 1,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.10.3 分页查询用户自身的聊天对象信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/member/member_chat_info/user_self_chatting_with_page_query
```



- 参数

| 参数名      | 参数含义 |
| ----------- | -------- |
| currentPage | 当前页数 |
| limited     | 每页数量 |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "fromId": "1642067605873348610",
                "realName": "钟昊辰",
                "unreadNumber": 28
            },
            {
                "fromId": "2022djy",
                "realName": "杜金阳",
                "unreadNumber": 2
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



### 2 product视频微服务

#### 2.1 CategoryInfoController

##### 2.1.1 获取层级商品分类信息

- get请求

```bash
$baseUrl/product/category_info/level_category_info
```



- 响应格式
- level只有0-1

```json
{
    "result": [
        {
            "categoryId": 1,
            "parentId": null,
            "level": 0,
            "categoryName": "食品",
            "createTime": "2024-01-18T10:04:29",
            "updateTime": "2024-01-18T10:04:29",
            "child": [
                {
                    "categoryId": 5,
                    "parentId": 1,
                    "level": 1,
                    "categoryName": "生鲜",
                    "createTime": "2024-01-18T10:10:36",
                    "updateTime": "2024-01-18T10:10:54",
                    "child": null
                },
                {
                    "categoryId": 6,
                    "parentId": 1,
                    "level": 1,
                    "categoryName": "熟食",
                    "createTime": "2024-01-18T10:10:49",
                    "updateTime": "2024-01-18T10:10:49",
                    "child": null
                }
            ]
        },
        {
            "categoryId": 2,
            "parentId": null,
            "level": 0,
            "categoryName": "生活用品",
            "createTime": "2024-01-18T10:05:08",
            "updateTime": "2024-01-18T10:05:08",
            "child": [
                {
                    "categoryId": 7,
                    "parentId": 2,
                    "level": 1,
                    "categoryName": "鞋子",
                    "createTime": "2024-01-18T10:11:47",
                    "updateTime": "2024-01-18T10:11:47",
                    "child": null
                },
                {
                    "categoryId": 8,
                    "parentId": 2,
                    "level": 1,
                    "categoryName": "衣服",
                    "createTime": "2024-01-18T10:12:09",
                    "updateTime": "2024-01-18T10:12:09",
                    "child": null
                }
            ]
        },
        {
            "categoryId": 3,
            "parentId": null,
            "level": 0,
            "categoryName": "图书",
            "createTime": "2024-01-18T10:05:48",
            "updateTime": "2024-01-18T10:05:48",
            "child": [
                {
                    "categoryId": 9,
                    "parentId": 3,
                    "level": 1,
                    "categoryName": "教材",
                    "createTime": "2024-01-18T10:12:34",
                    "updateTime": "2024-01-18T10:12:34",
                    "child": null
                },
                {
                    "categoryId": 10,
                    "parentId": 3,
                    "level": 1,
                    "categoryName": "专业书籍",
                    "createTime": "2024-01-18T10:12:48",
                    "updateTime": "2024-01-18T10:12:48",
                    "child": null
                }
            ]
        },
        {
            "categoryId": 4,
            "parentId": null,
            "level": 0,
            "categoryName": "电子产品",
            "createTime": "2024-01-18T10:06:04",
            "updateTime": "2024-01-18T10:06:04",
            "child": [
                {
                    "categoryId": 11,
                    "parentId": 4,
                    "level": 1,
                    "categoryName": "手机",
                    "createTime": "2024-01-18T10:15:01",
                    "updateTime": "2024-01-18T10:15:01",
                    "child": null
                },
                {
                    "categoryId": 12,
                    "parentId": 4,
                    "level": 1,
                    "categoryName": "电脑",
                    "createTime": "2024-01-18T10:15:12",
                    "updateTime": "2024-01-18T10:15:12",
                    "child": null
                }
            ]
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.1.2 管理员新增影视分类信息

- put请求，请求体传参
- 需要admin权限
- 需要登录状态

```bash
$baseUrl/product/category_info/new_category_info
```



- 参数

| 参数名       | 参数含义                           |
| ------------ | ---------------------------------- |
| parentId     | 父分类id，如果是根节点则不传此参数 |
| level        | 分类层级，0，1，最大为1            |
| categoryName | 分类名                             |



- 示例

```json
{
    "parentId": 1,
    "level": 0,
    "categoryName": "分类名"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.1.3 管理员删除叶节点影视分类信息

- delete请求，url传参
- 需要admin权限
- 需要登录状态
- 只能删除叶节点

```bash
$category/product/category_info/delete_leaf_category_info
```



- 参数

| 参数名     | 参数含义 |
| ---------- | -------- |
| categoryId | 分类id   |



- 示例

```bash
$category/product/category_info/delete_leaf_category_info?categoryId=14
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.2 ProductApplyInfoController

##### 2.2.1 商品上架申请

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/new_apply_info
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| applyImage  | 申请商品的图片   |
| categoryId  | 商品所属的分类id |
| productName | 商品名           |
| description | 商品描述         |
| price       | 商品价格         |



- 响应结果

```bash
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.2.2 管理员分页查询未处理的商品上架请求

- post请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/unhandled_apply_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productApplyId": "apply_1",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "电子产品-数据资源",
                "productName": "NEKO",
                "description": "NEKO",
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_market/2023-01-22/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "status": 0,
                "createTime": "2024-01-18T13:44:39",
                "updateTime": "2024-01-18T16:06:26"
            },
            {
                "productApplyId": "apply_2",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "电子产品-数据资源",
                "productName": "NEKO",
                "description": "NEKO",
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_market/2023-01-22/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "status": 0,
                "createTime": "2024-01-18T13:48:30",
                "updateTime": "2024-01-18T14:16:46"
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.2.3 管理员通过商品上架申请

- post请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/pass_apply
```



- 参数

| 参数名         | 参数含义       |
| -------------- | -------------- |
| productApplyId | 商品上架申请id |



- 示例

```bash
$baseUrl/product/product_apply_info/pass_apply?productApplyId=todo_apply_id
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.2.4 管理员拒绝商品上架申请

- post请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/reject_apply
```



- 参数

| 参数名         | 参数含义       |
| -------------- | -------------- |
| productApplyId | 商品上架申请id |



- 示例

```bash
$baseUrl/product/product_apply_info/reject_apply?productApplyId=todo_apply_id
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.2.5 分页查询学生自身的商品上架请求

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/user_self_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |
| objectId    | 审核状态，可选   |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productApplyId": "apply_2",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "电子产品-数据资源",
                "productName": "NEKO",
                "description": "NEKO",
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_market/2023-01-22/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "status": 0,
                "createTime": "2024-01-18T13:48:30",
                "updateTime": "2024-01-18T14:16:46"
            },
            {
                "productApplyId": "apply_1",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "电子产品-数据资源",
                "productName": "NEKO",
                "description": "NEKO",
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_market/2023-01-22/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "status": 0,
                "createTime": "2024-01-18T13:44:39",
                "updateTime": "2024-01-18T16:06:26"
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.3 ElasticSearchController

##### 2.3.1 分页查询查询商品信息

- post请求，请求体传参

```bash
$baseUrl/product/elasticsearch/product_infos
```



- 参数

| 参数名          | 参数含义                                |
| --------------- | --------------------------------------- |
| uid             | 商品售卖者的学号，可选                  |
| categoryId      | 分类id，可选                            |
| isPriceAscSort  | 是否按价格升序排序，可选，默认true      |
| isUpTimeAscSort | 是否按上架时间升序排序，可选，默认false |
| minPrice        | 最小价格，可选                          |
| maxPrice        | 最大价格，可选                          |
| minTime         | 最早上映时间，可选                      |
| maxTime         | 最晚上映时间，可选                      |
| queryWords      | 查询关键字，可选                        |
| currentPage     | 当前页数                                |
| limited         | 每页数量                                |



- 示例

```json
{
    "uid": "1642067605873348610",
    "categoryId": 17,
    "isPriceAscSort": true,
    "isUpTimeAscSort": false,
    "minPrice": 0,
    "maxPrice": 15,
    "minTime": "2023-07-17 11:29:49",
    "maxTime": "2024-05-17 11:35:41",
    "queryWords": "插画",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productId": "1750068049572130817",
                "uid": "1642067605873348610",
                "userName": "NEKO",
                "realName": "钟昊辰",
                "categoryId": 17,
                "fullCategoryName": "数据资源-电子产品",
                "productName": "插画",
                "description": "插画，网盘链接发货",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "upTime": "2024-01-25 16:05:56",
                "saleNumber": 0,
                "highLight": {
                    "productName": null,
                    "description": [
                        "<b style='color:red'>插画</b>，网盘链接发货"
                    ]
                }
            },
            {
                "productId": "1750067945863770113",
                "uid": "1642067605873348610",
                "userName": "NEKO",
                "realName": "钟昊辰",
                "categoryId": 17,
                "fullCategoryName": "数据资源-电子产品",
                "productName": "插画",
                "description": "插画，云盘链接发货",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "upTime": "2024-01-25 16:05:30",
                "saleNumber": 0,
                "highLight": {
                    "productName": null,
                    "description": [
                        "<b style='color:red'>插画</b>，云盘链接发货"
                    ]
                }
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.3.2 获取按照影视信息分类聚合信息

- get请求

```bash
$baseUrl/video/elastic_search/category_agg
```



- 响应结果

```json
{
    "result": {
        "pieVos": [
            {
                "value": 15,
                "name": "恋爱"
            },
            {
                "value": 15,
                "name": "战斗"
            },
            {
                "value": 14,
                "name": "科幻"
            },
            {
                "value": 7,
                "name": "喜剧"
            },
            {
                "value": 7,
                "name": "推理"
            },
            {
                "value": 7,
                "name": "校园"
            },
            {
                "value": 6,
                "name": "动物"
            },
            {
                "value": 6,
                "name": "地理"
            }
        ],
        "barVos": [
            {
                "value": 489542,
                "name": "恋爱"
            },
            {
                "value": 542100,
                "name": "战斗"
            },
            {
                "value": 557001,
                "name": "科幻"
            },
            {
                "value": 438606,
                "name": "喜剧"
            },
            {
                "value": 446303,
                "name": "推理"
            },
            {
                "value": 622358,
                "name": "校园"
            },
            {
                "value": 587164,
                "name": "动物"
            },
            {
                "value": 593733,
                "name": "地理"
            }
        ]
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.4 ProductInfoController

##### 2.4.1 分页查询学生自身的商品信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/product_info/user_self_page_query
```



- 参数

| 参数名      | 参数含义                               |
| ----------- | -------------------------------------- |
| queryWords  | 查询关键字，可选，指定后可按商品名查询 |
| currentPage | 当前页数                               |
| limited     | 每页数量                               |
| objectId    | 商品状态，可选                         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productId": "1748175057428946946",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "数据资源-电子产品",
                "productName": "插画",
                "description": "插画，网盘链接发货",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "isBan": false,
                "status": 0,
                "upTime": "2024-01-19T10:46:36",
                "productApplyId": "1748174975501606913",
                "createTime": "2024-01-19T10:46:17",
                "updateTime": "2024-01-19T10:46:17"
            },
            {
                "productId": "1748171551460679681",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "数据资源-电子产品",
                "productName": "插画",
                "description": "插画，云盘链接发货",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "isBan": false,
                "status": 0,
                "upTime": "2024-01-19T10:32:41",
                "productApplyId": "1748171451887902721",
                "createTime": "2024-01-19T10:32:17",
                "updateTime": "2024-01-19T10:41:36"
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.2 根据商品id查询用户自己的商品信息

- get请求，url传参
- 需要登录状态

```bash
$baseUrl/product/product_info/user_self_product_by_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_info/user_self_product_by_id?productId=1748171551460679681
```



- 响应结果

```json
{
    "result": {
        "productId": "1748171551460679681",
        "uid": "1642067605873348610",
        "categoryId": 17,
        "fullCategoryName": "数据资源-电子产品",
        "productName": "插画",
        "description": "插画，云盘链接发货",
        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
        "price": 15.00,
        "isBan": false,
        "status": 0,
        "upTime": "2024-01-19T10:32:41",
        "productApplyId": "1748171451887902721",
        "createTime": "2024-01-19T10:32:17",
        "updateTime": "2024-01-19T10:41:36"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.3 修改商品信息

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/product/product_info/update_product_info
```



- 参数

| 参数名       | 参数含义               |
| ------------ | ---------------------- |
| productId    | 要修改的商品id         |
| categoryId   | 商品所属的分类id，可选 |
| productName  | 商品名，可选           |
| description  | 商品描述，可选         |
| price        | 商品价格，可选         |
| displayImage | 商品展示图片，可选     |



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.4 上架商品

- post请求，url传参
- 需要登录状态

```bash
$baseUrl/product/product_info/up_product
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_info/up_product?productId=1750067945863770113
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.5 下架商品

- post请求，url传参
- 需要登录状态

```bash
$baseUrl/product/product_info/down_product
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_info/down_product?productId=1750067945863770113
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.6 获取上架的商品详情信息

- get请求，url传参

```bash
$baseUrl/product/product_info/product_detail_info
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_info/product_detail_info?productId=1750067945863770113
```



- 响应结果

```json
{
    "result": {
        "productId": "1750067945863770113",
        "uid": "1642067605873348610",
        "categoryId": 17,
        "fullCategoryName": "数据资源-电子产品",
        "productName": "插画",
        "description": "插画，云盘链接发货",
        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
        "price": 15,
        "upTime": "2024-01-25 16:05:30.0",
        "saleNumber": 0
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.5 OrderInfoController

##### 2.5.1 获取预生成订单token，保证预生成订单接口幂等性

- get请求
- 需要登录状态
- 此接口获取的token用于提交订单接口处参数使用，保证提交订单接口幂等性

```bash
$baseUrl/product/order_info/preorder_token
```



- 响应结果

```json
{
    "result": "5331463f-87e7-41f6-8e93-5c460c81b601",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.1 提交订单，获取订单号

- put请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/order_info/new_order
```



- 参数

| 参数名                                | 参数含义                                                     |
| ------------------------------------- | ------------------------------------------------------------ |
| token                                 | 2.5.1接口获取，用于保证提交订单接口幂等性，订单提交后为订单号 |
| isFromPurchaseList                    | 是否从购物车中提交                                           |
| newOrderProductInfos                  | 商品详细信息数组                                             |
| productId，newOrderProductInfos子字段 | 商品id                                                       |
| number，newOrderProductInfos子字段    | 购买数量                                                     |



- 示例

```json
{
    "token": "e3e0e153-3c91-4f84-8b96-501bf2a3e30c",
    "isFromPurchaseList": false,
    "newOrderProductInfos": [
        {
            "productId": "1750067945863770113",
            "number": 5
        },
        {
            "productId": "1750068049572130817",
            "number": 5
        }
    ]
}
```



- 响应结果

```json
{
    "result": "202402011638350961752974713649246210",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.2 根据订单号获取支付宝支付页面

- get请求，url传参
- 需要登录状态

```bash
$baseUrl/product/order_info/alipay_page
```



- 参数

| 参数名  | 参数含义  |
| ------- | --------- |
| orderId | 订单号    |
| token   | 用户token |



- 示例

```bash
$baseUrl/product/order_info/alipay_page?orderId=1752255098539438082&token=827cf743-03ce-4c55-b503-1fe3bfa40049
```



- 沙箱账号

```bash
hbwmin1080@sandbox.com
```



- 沙箱密码

```bash
111111
```



- 响应结果
- 结果为一个页面

```bash
<form name="punchout_form" method="post" action="https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&method=alipay.trade.page.pay&sign=jnAClwlvPNSTy5flSz667giADln%2FrBIeeCwrTSSo9AlW0sRoQA4O%2Bxxb0qKtVo%2BYWVetKmTM92xJCVTyl4kAQeLk0i5vJFsaFtz06qEjrMo0fKLU3DygrgsnLNI6B%2BjJjD2XCP7J3US3Zk8wtKNNqCzjROBiIKMdagHXz8c%2BZfzKsnmPOMdQJbM6Sr5yhgGDQCy%2BpLJq4FAmIBj%2B4x%2BLiyyaKOp%2FRSc3S1nljVKKRlDT%2BNeIYLtdyaUozqQx6WmLI0SLBmj1C%2FtgBxz1PhcgUlUoUCYPAQ55MlqYIfzfiOqetjQmKQgT33ZTNLkxMCdVnj%2B1EP%2FRTGFAH2Bmi%2Frtng%3D%3D&return_url=http%3A%2F%2Fneko.natapp1.cc%2Fneko_transaction%2F%23%2Fissuccess&notify_url=http%3A%2F%2Fneko.natapp1.cc%2Ftransaction%2Forder_info%2Falipay_listener&version=1.0&app_id=2021000122638851&sign_type=RSA2&timestamp=2024-01-30+16%3A59%3A05&alipay_sdk=alipay-sdk-java-4.38.34.ALL&format=json">
<input type="hidden" name="biz_content" value="{&quot;out_trade_no&quot;:&quot;1752255098539438082&quot;,&quot;total_amount&quot;:&quot;150.00&quot;,&quot;subject&quot;:&quot;NEKO_TRANSACTION&quot;,&quot;body&quot;:&quot;NEKO_TRANSACTION&quot;,&quot;timeout_express&quot;:&quot;2m&quot;,&quot;product_code&quot;:&quot;FAST_INSTANT_TRADE_PAY&quot;}">
<input type="submit" value="立即支付" style="display:none" >
</form>
<script>document.forms[0].submit();</script>
```



##### 2.5.3 根据订单号获取订单信息，用于检查订单状态

- get请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/product/order_info/remote_invoke_order_info_by_id
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| orderId | 订单号   |



- 示例

```bash
$baseUrl/product/order_info/remote_invoke_order_info_by_id?orderId=202401311052224051752525198848925698
```



- 响应结果
- status为订单状态，-1 -> 取消，0 -> 未支付，1 -> 已支付

```json
{
    "result": {
        "orderId": "202401311052224051752525198848925698",
        "alipayTradeId": null,
        "uid": "1642067605873348610",
        "cost": 150.00,
        "actualCost": 150.00,
        "status": 0,
        "createTime": "2024-01-31T10:52:31",
        "updateTime": "2024-01-31T10:52:31"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.4 分页查询学生自身的订单信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/order_info/user_self_page_query
```



- 参数

| 参数名      | 参数含义           |
| ----------- | ------------------ |
| queryWords  | 查询关键字，可选   |
| currentPage | 当前页数           |
| limited     | 每页数量           |
| objectId    | 商品订单状态，可选 |



- 示例

```json
{
    "queryWords": "插",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "orderId": "202402011652374561752978246809354241",
                "alipayTradeId": "2024020122001436790501934798",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:52:37",
                "updateTime": "2024-02-01T16:53:01",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752978346495377410",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752978346503766017",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011647461621752977025033789441",
                "alipayTradeId": "2024020122001436790501931728",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:47:46",
                "updateTime": "2024-02-01T16:48:03",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752977098698350593",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752977098698350594",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011646346331752976725015236609",
                "alipayTradeId": "2024020122001436790501943032",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:46:34",
                "updateTime": "2024-02-01T16:46:51",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752976795110445057",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752976795102056449",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011644329881752976214799142914",
                "alipayTradeId": "2024020122001436790501941873",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:44:33",
                "updateTime": "2024-02-01T16:44:50",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752976289050906625",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752976289050906626",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011641099911752975363372199937",
                "alipayTradeId": "2024020122001436790501933451",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:41:10",
                "updateTime": "2024-02-01T16:41:38",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752975481181810690",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752975481181810691",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011635077351752973843960311809",
                "alipayTradeId": "2024020122001436790501933450",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:35:07",
                "updateTime": "2024-02-01T16:35:28",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752973931856146433",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752973931864535042",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011632329261752973194640224257",
                "alipayTradeId": "2024020122001436790501941872",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:32:33",
                "updateTime": "2024-02-01T16:33:05",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752973333274554371",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752973333274554370",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011404573471752936051599446017",
                "alipayTradeId": "2024020122001436790501940340",
                "uid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "status": 1,
                "createTime": "2024-02-01T14:04:57",
                "updateTime": "2024-02-01T14:05:21",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752936153697193985",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            }
        ],
        "total": 9,
        "size": 8,
        "current": 1,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.5 根据订单号获取用户自身的订单信息

- get请求，url传参
- 需要登录状态

```bash
$baseUrl/product/order_info/user_self_order_info_by_order_id
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| orderId | 订单号   |



- 示例

```bash
$baseUrl/product/order_info/user_self_order_info_by_order_id?orderId=202402011158043911752904120597975042
```



- 响应结果

```json
{
    "result": {
        "orderId": "202402011158043911752904120597975042",
        "alipayTradeId": null,
        "uid": "1642067605873348610",
        "cost": 15.00,
        "actualCost": 15.00,
        "status": 0,
        "createTime": "2024-02-01T11:58:10",
        "updateTime": "2024-02-01T11:58:10"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.6 ProductImageController

##### 2.6.1 查询所有指定的商品id对应的商品图片信息

- get请求，url传参

```bash
$baseUrl/product/product_image/all_by_product_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_image/all_by_product_id?productId=1748241223086329858
```



- 响应结果

```json
{
    "result": [
        {
            "productImageId": "1748241223115689986",
            "productId": "1748241223086329858",
            "productImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
            "createTime": "2024-01-19T15:09:23",
            "updateTime": "2024-01-19T15:09:23"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.6.2 分页查询指定的商品id对应的商品图片信息

- post请求，请求体传参

```bash
$baseUrl/product/product_image/page_query_by_product_id
```



- 参数

| 参数名      | 参数含义 |
| ----------- | -------- |
| currentPage | 当前页数 |
| limited     | 每页数量 |
| objectId    | 商品id   |



- 示例

```json
{
    "objectId": "1748241223086329858",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productImageId": "1748241223115689986",
                "productId": "1748241223086329858",
                "productImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "createTime": "2024-01-19T15:09:23",
                "updateTime": "2024-01-19T15:09:23"
            }
        ],
        "total": 0,
        "size": 8,
        "current": 1,
        "pages": 0
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.6.3 添加商品图片

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/product/product_image/new_product_image
```



- 参数

| 参数名       | 参数含义 |
| ------------ | -------- |
| productId    | 商品id   |
| productImage | 商品图片 |



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.7 PurchaseListController

##### 2.7.1 添加商品到购物车

- put请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/purchase_list/add_to_purchase_list
```



- 参数

| 参数名                        | 参数含义           |
| ----------------------------- | ------------------ |
| productInfos                  | 添加的商品信息数组 |
| productId，productInfos子字段 | 商品id             |
| number，productInfos子字段    | 购买数量           |



- 示例

```json
{
    "productInfos": [
        {
            "productId": "1750067945863770113",
            "number": 5
        },
        {
            "productId": "1750068049572130817",
            "number": 5
        }
    ]
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.7.2 获取用户自身的购物车全部商品信息

- get请求
- 需要登录状态

```bash
$baseUrl/product/purchase_list/purchase_list_infos
```



- 响应结果

```json
{
    "result": [
        {
            "productId": "1750068049572130817",
            "uid": "1642067605873348610",
            "categoryId": 17,
            "fullCategoryName": "数据资源-电子产品",
            "productName": "插画",
            "description": "插画，网盘链接发货，4K插画，1920 * 1028插画",
            "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
            "price": 15,
            "upTime": "2024-01-26 09:02:52.0",
            "saleNumber": 1,
            "number": 10,
            "totalPrice": 150
        },
        {
            "productId": "1750067945863770113",
            "uid": "1642067605873348610",
            "categoryId": 17,
            "fullCategoryName": "数据资源-电子产品",
            "productName": "插画",
            "description": "插画，云盘链接发货",
            "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
            "price": 15,
            "upTime": "2024-01-25 16:05:30.0",
            "saleNumber": 0,
            "number": 10,
            "totalPrice": 150
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.7.3 根据商品id删除购物车中的商品

- delete请求，url传参
- 需要登录状态

```bash
$baseUrl/product/purchase_list/delete_by_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/purchase_list/delete_by_id?productId=1750067945863770113
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.8 OrderDetailInfoController

##### 2.8.1 学生确认收货

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/order_detail_info/confirm_received
```



- 参数

| 参数名        | 参数含义   |
| ------------- | ---------- |
| orderDetailId | 订单详情id |



- 示例

```bash
$baseUrl/product/order_detail_info/confirm_received?orderDetailId=1752936153697193985
```



- 响应结果

```js
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



### 3 third_party第三方微服务

#### 3.1 MailController

##### 3.1.1 发送注册邮件

- post请求
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/mail/send_register_mail
```



- 参数

| 参数名   | 参数含义   |
| -------- | ---------- |
| receiver | 接收者邮件 |
| code     | 验证码     |



- 示例

```bash
$baseUrl/third_party/mail/send_register_mail?receiver=$receiver&code=$code
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.1.2 发送密码重置邮件

- post请求
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/mail/send_password_reset_mail
```



- 参数

| 参数名   | 参数含义   |
| -------- | ---------- |
| receiver | 接收者邮件 |
| code     | 验证码     |



- 示例

```bash
$baseUrl/third_party/mail/send_password_reset_mail?receiver=$receiver&code=$code
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.1.3 发送邮箱登录验证码

- post请求
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/mail/send_log_in_mail
```



- 参数

| 参数名   | 参数含义   |
| -------- | ---------- |
| receiver | 接收者邮件 |
| code     | 验证码     |



- 示例

```bash
$baseUrl/third_party/mail/send_log_in_mail?receiver=$receiver&code=$code
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 3.2 OOSController

##### 3.2.1 获取oss上传信息

- get请求
- 需要登录状态

```bash
$baseUrl/third_party/oss/policy
```



- 响应结果

```json
{
    "result": {
        "accessId": "LTAI5tBonVMHDDUwqkcCGzCr",
        "policy": "eyJleHBpcmF0aW9uIjoiMjAyMy0wNC0xMVQwNzowMDo1Mi42NDJaIiwiY29uZGl0aW9ucyI6W1siY29udGVudC1sZW5ndGgtcmFuZ2UiLDAsMTA0ODU3NjAwMF0sWyJzdGFydHMtd2l0aCIsIiRrZXkiLCJuZWtvL25la29fY29udmVuaWVudC8yMDIzLTA0LTExLyJdXX0=",
        "signature": "DyJi2r4mXLyHM+8FnBZxnTJbxTw=",
        "dir": "neko/neko_convenient/2023-04-11/",
        "host": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com",
        "expire": 1681196452,
        "callbackUrl": "https://192.168.30.1:8004"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.2 oss图片上传

- post请求，form-data上传文件
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/upload_image
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| file   | 文件     |



- 响应结果

```json
{
    "result": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_convenient/2023-06-23/7ef5ba15-8c56-4c07-8c94-8ce75d40d1bb.png",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.3 删除oss文件

- delete请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/delete_file
```



- 参数

| 参数名      | 参数含义   |
| ----------- | ---------- |
| ossFilePath | oss文件url |



- 示例

```bash
$baseUrl/third_party/oss/delete_file?ossFilePath=https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_convenient/2023-06-23/bd583144-8681-47e0-8113-50dfced4e9da.png
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.4 oss视频上传

- post请求，form-data上传文件
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/upload_video
```



- 响应结果

```json
{
    "result": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-07-20/7ffcdf19-4d4c-4440-b454-2bce2735ed24_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.mp4",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.5 批量删除oss文件

- delete请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/delete_file_batch
```



- 参数

| 参数名       | 参数含义         |
| ------------ | ---------------- |
| ossFilePaths | 数组，oss文件url |



- 示例

```json
[
    "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-08-09/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
    "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-08-09/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795_bak.jpeg"
]
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



### 4 ware库存微服务

#### 4.1 WareInfoController

##### 4.1.1 根据商品id获取库存信息

- get请求，url传参

```bash
$baseUrl/ware/ware_info/ware_info_by_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/ware/ware_info/ware_info_by_id?productId=1748171067899371521
```



- 响应结果

```json
{
    "result": {
        "wareId": "1748170800231473154",
        "productId": "1748171067899371521",
        "stock": 0,
        "createTime": "2024-01-22T16:08:26",
        "updateTime": "2024-01-22T16:50:14"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.2 添加库存信息(微服务远程调用)

- post请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/ware/ware_info/new_ware_info
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |
| stock     | 库存数量 |



- 示例

```bash
$baseUrl/ware/ware_info/new_ware_info?productId=1748262473707929602&stock=5
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.3 修改库存数量

- post请求，url传参
- 需要登录状态

```bash
$baseUrl/ware/ware_info/update_stock
```



- 参数

| 参数名    | 参数含义   |
| --------- | ---------- |
| productId | 商品id     |
| offset    | 库存偏移量 |



- 示例

```bash
$baseUrl/ware/ware_info/update_stock?productId=1749713913915731969&offset=15
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.4 锁定指定库存数量

- post请求，请求体传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/ware/ware_info/lock_stock
```



- 参数

| 参数名                               | 参数含义                 |
| ------------------------------------ | ------------------------ |
| orderId                              | 订单号                   |
| lockProductInfos                     | 要锁定库存的商品信息数组 |
| productId，lockProductInfos的子字段  | 商品id                   |
| lockNumber，lockProductInfos的子字段 | 要锁定库存的数量         |



- 示例

```json
{
    "orderId": "order_id",
    "lockProductInfos": [
        {
            "productId": "1750067945863770113",
            "lockNumber": 5
        },
        {
            "productId": "1750068049572130817",
            "lockNumber": 5
        }
    ]
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.5 解锁指定订单号库存

- post请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/ware/ware_info/unlock_stock
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| orderId | 订单号   |



- 示例

```bash
$baseUrl/ware/ware_info/unlock_stock?orderId=202401311052224051752525198848925698
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.6 解锁指定订单号涉及的库存并扣除库存，用于确认支付后扣除库存

- post请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/ware/ware_info/confirm_lock_stock_paid
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| orderId | 订单号   |



- 示例

```bash
$baseUrl/ware/ware_info/confirm_lock_stock_paid?orderId=202401311521066471752592828817457153
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```

