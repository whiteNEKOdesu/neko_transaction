## neko_transaction接口文档

### 1 member用户微服务

- api均以微服务名开头从 gateway 访问微服务，去掉微服务名直接访问微服务



#### 1.1 MemberInfoController

##### 1.1.1 用户登录

- post请求，请求体传参

```bash
$baseUrl/member/member_info/login
```



- 参数

| 参数名       | 参数含义                      |
| ------------ | ----------------------------- |
| userName     | 用户名                        |
| userPassword | 密码，需要RSA加密后Base64编码 |
| traceId      | 验证码追踪id                  |
| code         | 验证码                        |



- 示例

```bash
{
    "userName": "NEKO",
    "userPassword": "QWTfNFa5JBWNDjawnGp2HShWBIWSXagEmQ/bttkmApglyPbdGRDUAwUzGgI/DGIZyhimznKlB0FTQtnOFWm93A0uzEKFKtgiOHxiOAouPR1AU8erCiSFwH0LvqcsdhTVzx3BRa5OvEfq2jsSQNjNxnAhcEL8YV4VjOVbBWnH0Bo=",
    "traceId": "202402201005566791759761271919513602",
    "code": "119867"
}
```



- 响应格式

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "weightTypes": [
            "base",
            "*"
        ],
        "roleTypes": [
            "user",
            "*"
        ],
        "token": "827cf743-03ce-4c55-b503-1fe3bfa40049",
        "gender": 1,
        "realName": "realName",
        "idCardNumber": "idCardNumber",
        "mail": "NEKO@NEKO.com",
        "balance": 0.00,
        "createTime": "2024-01-15T11:33:37",
        "updateTime": "2024-01-18T10:44:30"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.2 用户注册

- post请求，url传参

```bash
$baseURl/member/member_info/register
```



- 参数

| 参数名       | 参数含义 |
| ------------ | -------- |
| userName     | 用户名   |
| userPassword | 密码     |
| email        | 邮箱     |
| code         | 验证码   |



- 示例

```bash
$baseUrl/member/member_info/register?userName=koori&userPassword=Liekonggenji2&email=2665249580@qq.com&code=548822
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.3 确认用户名是否重复

- get请求，url传参

```bash
$baseUrl/member/member_info/user_name_is_repeat
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| userName | 用户名   |



- 示例

```bash
$baseUrl/member/member_info/user_name_is_repeat?userName=$userName
```



- 响应结果

```json
{
    "result": true,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.4 获取用户自身的详细信息

- get请求
- 需要登录状态

```bash
$baseUrl/member/member_info/user_self_info
```



- 响应结果

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "weightTypes": [
            "base",
            "*"
        ],
        "roleTypes": [
            "user",
            "*"
        ],
        "token": null,
        "gender": 1,
        "realName": "realName",
        "idCardNumber": "idCardNumber",
        "mail": "NEKO@NEKO.com",
        "balance": 0.00,
        "createTime": "2024-01-15T11:33:37",
        "updateTime": "2024-01-18T10:44:30"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.5 修改用户名

- post请求，url传参
- 需要登录状态

```bash
$baseUrl/member/member_info/update_user_name
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| userName | 用户名   |



- 示例

```bash
$baseUrl/member/member_info/update_user_name?userName=koori
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.6 修改密码

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/member/member_info/update_user_password
```



- 参数

| 参数名       | 参数含义                        |
| ------------ | ------------------------------- |
| userPassword | 原密码，需要RSA加密后Base64编码 |
| todoPassword | 新密码，需要RSA加密后Base64编码 |



- 示例

```json
{
    "userPassword": "iD6HqGdF9KFd9IdwMETzPWNzqI4BwOwvOeoWsnhki++gzponD0vjJlRqIOwVN/B3HStTlicvf3SaDjSFRrG8ePAuqNtjBptSgghwZrHR0WcGY8Rf5FJSReiq1Th5lJmc66bfwlH8mB3Kn7MqM1t2fXIe41x9cTqVXtG6j4L6cc0=",
    "todoPassword": "G7RlQuZluYEVraZ7fFKnFhjhS/5/85L45Bvr0Q/Ceh/qMxAdtq4gNF8yCg1LzPgxB302YpQpVBkcXuwxy3HqUNdZjdhHRyxDbCFm69K8Co6Yf2trYhH5z2COJ8WTzYFfPVgDzhgCf9RL5mg1hQArI3yOBIuJ23P5aPl4TYXZVZA="
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.7 修改头像

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/member/member_info/update_user_image_path
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| file   | 文件     |



- 响应结果

```json
{
    "result": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_convenient/2023-06-25/cdacafeb-8a7a-4c79-b3b3-145520c9d097.png",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.8 用户学号，密码登录

- post请求，请求体传参

```bash
$baseUrl/member/member_info/uid_login
```



- 参数

| 参数名       | 参数含义                      |
| ------------ | ----------------------------- |
| uid          | 学号                          |
| userPassword | 密码，需要RSA加密后Base64编码 |
| traceId      | 验证码追踪id                  |
| code         | 验证码                        |



- 示例

```json
{
    "uid": "1642067605873348610",
    "userPassword": "QWTfNFa5JBWNDjawnGp2HShWBIWSXagEmQ/bttkmApglyPbdGRDUAwUzGgI/DGIZyhimznKlB0FTQtnOFWm93A0uzEKFKtgiOHxiOAouPR1AU8erCiSFwH0LvqcsdhTVzx3BRa5OvEfq2jsSQNjNxnAhcEL8YV4VjOVbBWnH0Bo=",
    "traceId": "202402201030340101759767468349349890",
    "code": "104514"
}
```



- 响应结果

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "weightTypes": [
            "base",
            "*"
        ],
        "roleTypes": [
            "user",
            "*"
        ],
        "token": "827cf743-03ce-4c55-b503-1fe3bfa40049",
        "gender": 1,
        "realName": "realName",
        "idCardNumber": "idCardNumber",
        "mail": "NEKO@NEKO.com",
        "balance": 0.00,
        "createTime": "2024-01-15T11:33:37",
        "updateTime": "2024-01-18T10:44:30"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.9 发送密码重置邮件

- post请求，url传参

```bash
$baseUrl/member/member_info/send_user_password_reset_code
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | 学号     |



- 示例

```bash
$baseUrl/member/member_info/send_user_password_reset_code?uid=1642067605873348610
```



- 响应结果

```json
{
    "result": "2665249580@qq.com",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.10 重置密码

- post请求，请求体传参

```bash
$baseUrl/member/member_info/reset_user_password
```



- 参数

| 参数名       | 参数含义                        |
| ------------ | ------------------------------- |
| uid          | 学号                            |
| todoPassword | 新密码，需要RSA加密后Base64编码 |
| code         | 验证码                          |



- 示例

```json
{
    "uid": "1642067605873348610",
    "todoPassword": "QWTfNFa5JBWNDjawnGp2HShWBIWSXagEmQ/bttkmApglyPbdGRDUAwUzGgI/DGIZyhimznKlB0FTQtnOFWm93A0uzEKFKtgiOHxiOAouPR1AU8erCiSFwH0LvqcsdhTVzx3BRa5OvEfq2jsSQNjNxnAhcEL8YV4VjOVbBWnH0Bo=",
    "code": "575013"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.11 管理员添加学生

- put请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/member_info/new_member_info
```



- 参数

| 参数名       | 参数含义           |
| ------------ | ------------------ |
| uid          | 学号               |
| classId      | 班级               |
| gender       | 性别，1->男，0->女 |
| realName     | 真实姓名           |
| idCardNumber | 身份证号           |



- 示例

```json
{
    "uid": "2022220187",
    "classId": "z1312202",
    "gender": true,
    "realName": "NEKO",
    "idCardNumber": "idCardNumber"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.12 管理员根据学号删除用户

- delete请求，url传参
- 需要root角色
- 需要登录状态

```bash
$baseUrl/member/member_info/delete_by_id
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | 学号     |



- 示例

```bash
$baseUrl/member/member_info/delete_by_id?uid=todo_delete_uid
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.13 分页查询学生及所属二级学院，专业，班级信息

- post请求，请求体传参

```bash
$baseUrl/member/member_info/member_with_school_info_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |
| objectId    | 班级id           |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "uid": "1642067605873348610",
                "classId": "z1312202",
                "majorId": 1,
                "majorName": "软件工程",
                "collegeId": 1,
                "collegeName": "软件工程学院",
                "userName": "NEKO",
                "userImagePath": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-07-25/1430d607-b0a4-4f83-aa5c-bedb89a0d888_301882efc3b3dcabaad03a7b607ab228.jpg",
                "gender": true,
                "realName": "钟昊辰",
                "idCardNumber": "420881200101184053",
                "mail": "NEKO@NEKO.com",
                "createTime": "2024-01-15T11:33:37",
                "updateTime": "2024-01-17T15:05:08"
            },
            {
                "uid": "2022djy",
                "classId": "z1312202",
                "majorId": 1,
                "majorName": "软件工程",
                "collegeId": 1,
                "collegeName": "软件工程学院",
                "userName": null,
                "userImagePath": null,
                "gender": true,
                "realName": "杜金阳",
                "idCardNumber": "000000000000000000",
                "mail": null,
                "createTime": "2024-01-17T15:50:34",
                "updateTime": "2024-01-17T15:50:34"
            },
            {
                "uid": "2022zr",
                "classId": "z1312202",
                "majorId": 1,
                "majorName": "软件工程",
                "collegeId": 1,
                "collegeName": "软件工程学院",
                "userName": null,
                "userImagePath": null,
                "gender": true,
                "realName": "周锐",
                "idCardNumber": "000000000000000000",
                "mail": null,
                "createTime": "2024-01-17T15:49:42",
                "updateTime": "2024-01-17T15:49:42"
            },
            {
                "uid": "2022zxq",
                "classId": "z1312202",
                "majorId": 1,
                "majorName": "软件工程",
                "collegeId": 1,
                "collegeName": "软件工程学院",
                "userName": null,
                "userImagePath": null,
                "gender": true,
                "realName": "周贤青",
                "idCardNumber": "000000000000000000",
                "mail": null,
                "createTime": "2024-01-17T15:50:11",
                "updateTime": "2024-01-17T15:50:11"
            }
        ],
        "total": 4,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.14 根据学号获取用户公开信息

- get请求，url传参

```bash
$baseUrl/member/member_info/public_member_info
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | 学号     |



- 示例

```bash
$baseUrl/member/member_info/public_member_info?uid=1642067605873348610
```



- 响应结果

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "gender": 1,
        "realName": "钟昊辰"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.15 添加用户余额

- post请求，请求体传参传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/member/member_info/add_balance
```



- 参数

| 参数名    | 参数含义   |
| --------- | ---------- |
| uid       | 学号       |
| addNumber | 添加的余额 |



- 示例

```json
{
    "uid": "1642067605873348610",
    "addNumber": 15
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.16 发送邮箱登录邮件

- post请求，url传参

```bash
$baseUrl/member/member_info/send_log_in_code
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| receiver | 邮箱     |



- 示例

```bash
$baseUrl/member/member_info/send_log_in_code?receiver=$receiver
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.17 用户邮箱登录

- post请求，请求体传参

```bash
$baseUrl/member/member_info/email_login
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| mail   | 邮箱     |
| code   | 验证码   |



- 示例

```json
{
    "mail": "mail",
    "code": "627321"
}
```



- 响应结果

```json
{
    "result": {
        "uid": "1642067605873348610",
        "classId": "z1312202",
        "majorId": 1,
        "majorName": "软件工程",
        "collegeId": 1,
        "collegeName": "软件工程学院",
        "userName": "NEKO",
        "userImagePath": null,
        "weightTypes": [
            "base",
            "*"
        ],
        "roleTypes": [
            "user",
            "*"
        ],
        "token": "827cf743-03ce-4c55-b503-1fe3bfa40049",
        "gender": 1,
        "realName": "钟昊辰",
        "idCardNumber": "420881200101184053",
        "mail": "2665249580@qq.com",
        "balance": 15.00,
        "createTime": "2024-01-15T11:33:37",
        "updateTime": "2024-02-07T10:25:11"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.18 获取登录的 Base64 图形验证码

- get请求

```bash
$baseUrl/member/member_info/login_graph_verify_code
```



- 响应结果
- 使用 data:image/png;base64, + result.base64Graph 查看验证码

```json
{
    "result": {
        "traceId": "202402191654116931759501623643631618",
        "base64Graph": "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"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.1.19 管理员通过excel批量添加学生

- put请求，form-data上传文件
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/member_info/new_member_info_by_excel
```



- excel模板下载地址

```bash
$baseUrl/member/excel_import_member.xlsx
```



- 参数

| 参数名 | 参数含义   |
| ------ | ---------- |
| file   | excel 文件 |



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.2 AdminInfoController

##### 1.2.1 管理员登录

- post请求，url传参

```bash
$baseUrl/member/admin_info/login
```



- 参数

| 参数名       | 参数含义          |
| ------------ | ----------------- |
| userName     | 用户名            |
| userPassword | 密码，需要RSA加密 |
| traceId      | 验证码追踪id      |
| code         | 验证码            |



- 示例

```bash
{
    "userName": "NEKO",
    "userPassword": "QWTfNFa5JBWNDjawnGp2HShWBIWSXagEmQ/bttkmApglyPbdGRDUAwUzGgI/DGIZyhimznKlB0FTQtnOFWm93A0uzEKFKtgiOHxiOAouPR1AU8erCiSFwH0LvqcsdhTVzx3BRa5OvEfq2jsSQNjNxnAhcEL8YV4VjOVbBWnH0Bo=",
    "traceId": "202402201050401041759772527070023682",
    "code": "576941"
}
```



- 响应格式

```json
{
    "result": {
        "adminId": "1642398369596944385",
        "userName": "NEKO",
        "userImagePath": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-07-25/1430d607-b0a4-4f83-aa5c-bedb89a0d888_301882efc3b3dcabaad03a7b607ab228.jpg",
        "token": "70ab5cee-a4ff-4103-a3d0-a8dd8de317d9",
        "weightTypes": [
            "*"
        ],
        "roleTypes": [
            "*"
        ],
        "createAdminId": null,
        "isDelete": false,
        "createTime": "2024-01-15T11:50:00",
        "updateTime": "2024-01-15T11:50:00"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.2.2 新增管理员

- put请求，请求体传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/admin_info/new_admin
```



- 参数

| 参数名       | 参数含义     |
| ------------ | ------------ |
| userName     | 用户名       |
| userPassword | 密码         |
| roleIds      | 角色id，数组 |



- 示例

```json
{
    "userName": "$userName",
    "userPassword": "$userPassword",
    "roleIds": [5, 15]
}
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.2.3 确认用户名是否重复

- get请求，url传参
- 需要root角色
- 需要登录状态

```bash
$baseUrl/member/admin_info/user_name_is_repeat?userName=NEKO
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| userName | 用户名   |



- 示例

```bash
$baseUrl/member/admin_info/user_name_is_repeat?userName=NEKO
```



- 响应格式

```json
{
    "result": true,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.2.4 获取登录的 Base64 图形验证码

- get请求

```bash
$baseUrl/member/admin_info/login_graph_verify_code
```



- 响应结果
- 使用 data:image/png;base64, + result.base64Graph 查看验证码

```json
{
    "result": {
        "traceId": "202402201044483921759771051870392321",
        "base64Graph": "iVBORw0KGgoAAAANSUhEUgAAAMgAAABkCAYAAADDhn8LAAAco0lEQVR4Xu2dd3QV153H88/+t9mzmz3ZTV9vTs4mcZoTO4lbgokLLrGxQ3HoMgYj02wwvXcwvTchqum9yhQBEiC6ACHR1IV671367fuNch/3/X535s28N096ypmvz/cceO+WCfl+3p2Ze+fON8CRI0e6+gb9wJEjR0/kAOLIkYEcQBw5MpADiCNHBnIAceTIQA4gjhwZKKgBeXb1X7zakaNAKigBsRJ+f2DJOZmh2ZEjPQUNIP4EXchsfQoG/bsjR0JBAYiZUFuRN1BUMKg+s6IT3dM97OifQ20OiFGQ/ZWqbSMQjL7Tkx4Qep87al9qU0BUAVapsX+hz8Y+6Gdm7U1mADBTxlHwqs0AkeGgwaT2V431nxlaljyK0OOQbSX4Vso6Ci61OSB2AKCSDIDoSw7/9xKWaKZlzZ5mYejNHnugAXnm+TGm7cia2gQQempFf52prYqOCijsUw8QWXJdehzy6GH1uOyGxNfQO8BYU1AA4k00oIbGkYB+1t/itcg/2tCTL2H3pQ5VIIJtd3v/bApaQF6K/gWzN6lGDiG5T3nkUI0iONLoteVP0P2pG+gQO6CoFZSA6MGg97mQXqhR7RmQ1gxua/bVHhR0gHiDwOh7vVCj2iMgbfWr3lb9BqOCChCj8MsyKqcXbCuA6LWBshpyWVbrtnVI27r/YFCbAIKikBiFXiWj8jTgqjtYqj+jvN3qtRpyWVbqBkM4g+EY2lrtFhCUUR0xr4H2BohcFtXWgARTMIPpWNpCbQYISkBiFHQjmamn3d6VAFCZygHkicwcS6d/eder26vaFBAUBthM0FXCeo0NDZB8/y5EHt4D21ctgBVTR8HckQNhxpC+MCm0BywYMxhWzRgD4VOnw4WTR+BxSiJ8/+5idxv0FAtlBZD6vCIoirgE6bM3wv2QaXD3g1Fw+y+hEPtSf7jz+mCI7zYWkscsg+wNh+B05xiA5maP+lRmAtna0jsmK+G3UtZnNTdBTV4slCRshdzoCfD4eF9IP/gBpO55HVJ3vwZpB951fdYP8i5M1srUFj3ASrQVDzFAxv3fvwaNjVSUnwvHdmyE8cO7w5RBPSx55KgQiDlzAupqaywDgkJIKmLvQ9IXS+Dm8yFw84/9TPtu55GQuz0CGiurabOa9MJop7JL78D5h/OZ9SSOyY5RQdT9/R/ege/N6MTsi5rqyqA4LhwyDneDlJ0dLDnjyIdQcm+7q40K2qymdgdITVUVHN4WBtM+7c2Cb9XzXCPNi0em0C4MAakvLIWYDrNY8K36TqehUHg4io0ogQakvCYboh8tYnB4A8RXIFS6lfUAnpr9VwaHdUCaoTzpGKQfeI8F36qxjfLEw7SD4AaEXsinPEjQTplo0P31ka82QGNjo7sfPUBKL96GO28MYWH3x0kjF0NjxZPRJJCA1DdWweXkNQwMb4DYCUdhVSk8t7Q3A8MqIM1N9ZAfM5MF3V/nXpgETQ1V7n6CGhAUQoJ+f9Y7MDn07yzcdnlv2HJodv2a68IRHatdV9CA2+GED8dDQ0m51k+gAGl2/Xf78S4GhTdAEA67jqnRdY3QdesYBoVVQBCOnLMjWLjtcvbpIdDcWKP1FfSAoG7FRMHU0J4s1Hb76I5wJSDl1+Ih9uWPWbDt9P0+U6Cppk7rz65AykrKP8eAoKayEw7U9FPrGRDUZlRwbT4Ltd3GkeSpTrnBC8iU3/yXdjypDxNc1xu9WJg9HNoDwhdMh8uREdpdqqrKCu2UqbK8DLLTUyDqxCFYMW0Ur6fw1S2nPP49GssrIe7t4SzQ1Pf7ToG8nSeh6mGaNhqc6JYKX3e9B5V3kyBn42Ht4pzWoc6Yv1Xr085QovLLHzAYVJYlTqvsOpYjCVEMBpW9nc6Vp5xgYaZO3dMJ8i5Nh6rH0VBfnuE6Zap2jQi10FCRBZXpZ13fTYPUXX9h9ahDh+wOTkDG/+zfIOHMMaiqKPd6zYG3djsdfZb+z2BqamqCM2v3wKzhH7E2ZC8YMRjq61t+yVGp09axIMvGi+2Scze0O1uyqZrrGyBn81GIfeEj1obsyvgkrbxdwaysK4ALiUsYDCoL2Q3Hg/w0+MnczgwGlVF6kDTVV3q9IM+NGgcNVfm0KlN9+WPIjhzO6suO3fQeByTQiuv85LZq98k/ZHCgo8KWat/v37iKBVj2id1bAK8brMyjxO2KgTEj+rK2ZMecOa6VxdGABlg2jgp1uUWkB2OVXrhlCEniZwu1cnaEs7GpDq6mhjEQ9IzCcNb1SVXaF5XXVsHLq/ozEPQspIKk6NZqFmLZOLdhSa5rooJrC1g7slsNEARDhqPz4qdg/E+/yeDYO26Q9n1mapLhdQdeVMsyCwleYzwTOcvwNvHK6aO1smkzwliAhW/9eSDUpGWT1s0J50Foe7JrM1t+ARESf0C5m3WAQWBkeeRQ9WsVErwxELJrKoPAyLJkSJrqyrUJPxpg4eK4jVJNK2rWTsdoe20CiFDKtYsw9mkOx9xf/Rjqa1pueW5ZNpcFV3j51C88ToNQZgFB4eQgjj60XdkZcXfh1p8GsPAKZ4fze+Zm1ey6PkroPpa1KYynYrJUYfWmtKIYBoA3m7kotzKiLI3ewQDwZlkyIGUP97LwCmd+PVAbDXwV3rHCCUPabqsBIsNRkpUBM/7wIwbH5F9/Gy68OU4rU5CTpTt64Odpiffd7QlZBSTpcLzhKHJpznIWXOFbrwyCpupa2qwl5X51grUrjDP0VHq/6ioVVaa4Ar+AAeDNZtsXMoLkbNJ1+MHMNxkA3kwlIMk80Y+FV7gq8xKpZV2V6ZGs3VYHpNH1q7+ySwcGB/rqro3ucsd3bWaBFd6zfpnctFtWAUFtmDqdtS+8663eLLjCabM2kBatq/pRBmtXGK9t9OQNlJr6UriYtJyF34x9kQqS9JIceHpBVxZ+M6ZCQPBOFA2uMC4v8Wf0cMvVRsbhrqz9VgXk4JThDAz0poFd3GXvdF4M80d/ygKLxtEjL+uxu6wsq4B0Cu0GvQd9yPoQvthBf41VSeQ12qRl4e1j2q7wrVc+ocWZBCgyME3NDXAjbTMLvln7KhmSmoY6eH39YBZ8s1Zp7tudWHCFC2+uoMV9VlHsKtZ+wAERcNw+tpeBgZ762+9AafaT0J/rOpOFVXjT4lnuclRmAUEw0KjignwYN7wPrJs7CfaFr4SzR/fB7SsXtLmUipw87ZYrrtSd/35P2PhWL3jw0XS4/dpgbQWvv8LbvhQMYZyUtCqEZOHGmSz0so9e+5J9ZgcgKAHJ8EPzWehl/2bR39ln3gA5NOY1Flzh6hz/f6yEcCUwbT+ggAg4yvKyYcbv1bd0L+8I86hz5tBuBobwzYvnPMrK8gaIDAYKRxHVSl4j0Tb8UV12AQNDOO6tYbS4V2WW3GSBlx31aCEUTLzOPrcLENT6YRtZ4GX/aNbbcDk9jn3uDZC4sFdYcDXv6qjNjdglnEykE4itAsimAX9jYKDX9nwDcB5D1sZF+iMIzpDryQgQVah9AURI1Z5VlV2NZ2AIPwydS4sbqrQ6UwOABl52ZvEN7Veefm4XINcy4l0AqJewC4ddPaiVpZ8bAdJYXcjB+Ifx2Q67lfn1x60LyJWd4QwMzT/7JuQ+SvAoj7PdejPdSyd97lGWSg8QvTD7AwhKr12zSp+3mYEhnLVmHy2uq7qGSohJXsXCLvte9lH3KRD9zg5A8iqK4JnFPVjYZQ85MM9dnn5nBEh1znUGhnDeRf6ogr/Kj5nROoAgHOX5OTD1d9/lcLjcN/S7tIp2AU7BEMZrBJW2912jGQERfxY2CrG/gKCM2jdSfX4x3H41lIEhXJOcSaso1dzcBLcytrOgy76etsl18V4fMEAamhqg86aRLOiyX10XCtX1T26L0++NACl7oD//UXzH/7uJVDjh2GqA7BwRwsBA4zxIh4if0ypwL/YaA0M4OuKQR1kBgdCbh56D88cOaGuzcLSZ6KqDixynDeoNMweGwOYls13XN7u0Z0rEaZ2/gKCsQoKThInDFzAohPE7s3qUd5qFXPbFxGWuYJZ43GWiZfwFZMKJlSzksn82vwukFXuuOKBljAApjF3BwBAuT/KcULVD5cnHWgeQ068NZWAIX96+XnlKdOHrIwwM4TtXL2plZDBwNv3KuZOwfMpIVt7IuAAS+8JHbu2QWUjwwajEYfMZFML4vEl1Il9ur1JuWTwLuKcXQFFlslY2UIDsvXOGBVw2ThRGJvK7TLScESD0lEd2VVYMLe63qrIuBx4QnBCc88unGBjoRZ1+C02uX1EVIIe3rWdhFt4QMs9jxIi/cQUWjR/GylnxuNCP4cMvwuDV8Wf8MgIi/52quaERCg6d1+5OUShk43J5M6qozYPoR4tZwGWnFbbMLtOJPFrOV0Dic5Lgx3PeZQGXvTjqK1pNEy1nBEh25OcMDOGWTRfsVW3Rw8ADcnHLKgaGMM6HCFFIvlo5n4VYuDAvRyvz3OQ/Q8jn77Hv/XG/z96DZyd3gN+52kb7InkUeW38aXj/i6MwbOBmWNZ1HkS//AmDgTpz5R6pNX01NNbAlZR1LNyy72bud5cPBCAl1eXw/PJ+LNyy+4wdrS1WVImWNQIE71RRMIRxybrdwjYDCkhtZQXMfF49eiz96x9Bvq1LAVk/bzILr/CLEzvCc5M6wJalc9h3dnjrsrlQX9dyISlAUVlPCMjDQbNbLr5f0J+Fp8YFkfl7+aijVjPEZe5lwZZ9NSXMdeH85ILYbkCaXP//9do+kQVb9osrP4LCkHu0qlu0vBEg6Ye6MDCEG2v8n7CloreVbQfk1NKZDAzhhNOeF1UyIBi+UYP1t/CpdoG3bcWX7HM7je03NTVKR8ilBwsCcudN41Moanz2w+wdK1RKQTQLtWx8MKqytsBdnsKBonWsAjLv7GYWatn4YNT9vFStrKp/FK1jCIjBA1L4pKDdwg0bAgZIRUEeTHnmvxkY6BUf/IkWdwMiwvblqEEstMKnDuxgn6GnD+4Nn854B666Ltb/Nqg7vDn2qOsU55QGVGFuNiTG34aT+7abfuQ2Ys82+RANJUPSVFvHADAybiqH8x1VCSlSi/oqqEhkgabOL/dc5awKKK1jBZCvH8TA92cYr9A9HH/eXV7VP4rWMQIkbe9bDAxh3LzBbuFsesAAOf7lRAaGsHztIUuGZEKo/uJBuvwd/35o6zp4LeK37rbk6wB6If2q67qg+6gNXu94YbvJ9+6626HSG0FqUrMYBGb9oP8MbUshPVXXFbtGh6Us0LKT8s/SasqA0npmAUkuzISffvkBC7TsaafWedRR9Y+i9YwAwR0RKRjCtqziJWpuaggMIDXlZdrCQwoGet4rP4emxgZaRZN8moXbhdLAqjx3xAB4GBfrUd/srdY3xkXA0KFjWJuyRwzp6rpo59cfaA5ei4d8soUF36pTJq722CMLhY/NXksNZ2GWffvxTsBJQypVQGldM4BU1lXDK2sGsjDL7rJltOvax/P0VNU/itY1AiRlp846LAQkIGoODCDn1i1iYAhHh6uf4UDJgNCgqjzeNcr8acKrLLhWjHesQod/wNqWLeZdzKrwSLS2s8mad3pB3u5TUHzysraXVuHRaMjZdES73sBl7BQK6viuY6C+oMTdbkL2YRZk2bgRHG4Ip5IqoLS+GUAG7ZvNgiz72aW9oKDyyTELqfpH0fpGgNDFgx6AKH4U/FVARpCQMUNgzK++zcBA46hSW1FOq7glAzJ1kPopQmEcYdKTHirrmh1BhPAaxWgeBe+o+SKj42iqroHcbSe0nVAoGLLxcVzcOiij+CoLseyoR4ugrEb/uXhVQGkb3gBZHbOXhVj2/8x+B2Iz+ROeKFX/KNqGISB79J8FCeprkJBxw92+sf8rBobw8Dd/7y6nJ7GOaubQfiyosk/u387qCRkFU0+xl86zPmSXFD25I2RWZo6jvqgMHg2Zx8DwgGTxEojy8thsdqn+dQtKFVDahhEgl1Jvww9nvsVCLHvbzeO0mluq/lG0DSNA4sP1T7GaG+xZCSEL74z5BYgq7Gs+fJWBIZwVf8tdTlUXJQCZ8/nHLKTCc0Z8rG1cTeuhzIRSJXx1wsKxQ1hfwtejz9AqpmTmeJqbmiB5rPq59xtvD4CoG3NZgGU/yI2gTTKpAkrb0QMkqywffrWwOwuw7C+OPnmNhEqq/lG0HSNAYtd0ZGAIN9by0zp/1VhT7DsgqnDnJT1gUAgve+8FWlwTbUcE3WiTuP0bVyvroMwEUk9Ht4ezvoQPbn6ytMWKzB4P3hq+32+qJxwvhcCFiOksvLJvpm+FpmbPC2KVVAGlbckWGyTUNdbD2xuGsfDKxu+xnJFU/aNoW3qA4PFkRnzEwBDGnRLtVn1Fpm+A0FALHZs7noEhjEtO9CS3J5arr5oxloVU+O51z4VpdgESd+0S60s4ENchVLg1qQzIpfXjWXBlX0paAbUN5bQZpVQBpe2pABl1dAkLruxfLuymjTDepOofRdszAiQ78jMGhnBdcaJHeTtUV+zDWqyzv/uW0pEuT/kpBwM98en/gKoS46UAAhKxCHHY1HdZSIXzc57MOMtwoKwEkio/O5P1JbxgzKe0uClZPR68wyUAoaFtC9PQtqXD1+vfxbLzeXSh6uwr1gBBEPRGj8RLZxkYwhs//oAWZ6KA4ENRNKTC4nFbCgfKaiBlVZSVsr6EZw0PocVNyerxFBw46wCi49mr9QGpSPF+HWZVdHNsXUDEKKEHB+rQ1M8ZGMK4z5UZye3jriI0pMK4RkoFB8pqIGXhLvC0L2G87eyLrB4PrsdyAFF78DL9mXTLe/GaUEn8Fu+AIBhCeoDgqtzZL/2EgSFcXpBLqyglt4+TczSkwh3O/Fqq5SmrgZRVW1PN+hKe9klvWtyUrB5PQ2mFA4iOOy/U3483//Ic+k/pt/IvzzIGRIYDpQdIWuwVBoXwot88zdrRk9x+bmYGC6lwzuM0qZanrAZSFu6NRfsSnvlJ65xiyXtk0bC2hWlI29K/mP0GA0M461Qo/af0W1knB+kDogq1HiAnl0xnYAjvfrllp0RVe1Ry+9qo9Jl6V5PYmCiplqesBlJWRvIj1tfMAT1hcZ+esLnbAMgOOwipU9ZqCwpxBa7Yed1IVo8HN6JzANH3lW3qyULc7d3O2XRsiy6O9AoISgXJ6u4dGRjCODmImzbotSeE7cqP0aL0HojS25MXZTWQsi6dPs76uvwin7wTLjh4jjbBZPV4KuMSHUAMvDFMf7KwtlD/wSyrqim4y9p3A2IUZgoIrq2a8PN/Z2CgcQdFnCUWm8Z5a5cCogosGu8o1VRXeZSVZTWUQjvWLGJ9nenYl4EhnDRaH1SUL8eBr2ij/bj7G9XyMiF/JeYkKAyyzQjnJoRV0pv7EMJ6FADZKpUlHmLBFcb3o9ul4jvrWfumAEHJkNyLPMHAEN42tOXOj/zKA1Xb9BavUEmh/jXBhZNHPMrK8iWYFWUlyiX2e9/R39kddx7BtVR68uU46Gy6bFzcaIfsAkSWChQ9QOSyFApvgDRU5rDgCj8+hjdS1M++W1Ozq61erH0NEFWAVRKhNnowSrw+zQgQGTYKCCps/lQWWjQ+B4LvLVTJl2Dq7QO86u89WVBl4y++nqweBz4oRduXXZNiz3KKQAAiJI8qepZFofAGCCozoj8LrzBO7vkrfMcIbdcyICgM90iD27tJl89r5VSAYF16uqYCBJeV0NAK716vPuWwGkzcxVFv9fD0T1yAGDy7cbvjIKgvLKVNarJyHLj8Hd+RTtsXxt3k7RRCQqGwAxAhvdGDikJhBpDSB3tYeIUfH+/r18V6c2OdNhLRdn0CBK8v9J4cRNeUtQRHACKg0OtDBQhOCs4foL6bhY460bIJMpXZcOLcB76HkLYrPH90KGQs28ECKzt5zDK87ebRrtn+NbnqJo9bwdqVXXL+Jq3ltygUdgFiFg4UhcIMII21pewOk2x8tbNPD1C56uRdmMzacwOiF1w95SXeZ1AIj37mO24g6Ghh1A+FBOG6f/sGC65sPD2iO8ObCWh5aTGsnjmOtSf7WtRp2N1ruTZS0NDKfrzoK9wHx922mf5R+Po2vaXuwriFUCBEobADECtwoCgUZgBBFV5fzAIsO//KXFcmvK9yFsKnB/Mvz2bt+AXIneP7GBjC4f07e5RVnWappAIEtWvtEhZe2eELpkN2uueuIHohxZ3j8f0iem+vEl47Z6IGHh4T7nRIg0v9aOh8qM3M0+3XQ652cVQwOq1C4zsQazPMrUSwKgqFv4BYhQNFoTALSGN1geEogs78egDUlbRsuWqkupIk9qoD6rT971oHJHLVlwwM4UPTRniU9RcQPBVa5mUXEg2UhdPhcmSENun3jiuo+CAU7rtbXJAHyffvatv+4IbWtB41TlLi6l6UdkyuQMsrbXX9Qghse6O3NkdSnfRYe1wWtxvFDRhwYhHfBZK1ag8k9JjA61I/HwIl527I/xy2ikLhDyC+wIGiUJgFBFUSv5kFmXlXR8g5Pxoq0k5DfVmq9pIdNP4ZP8PvsAyrR4wbWVsGZM/YQQwM4Yub+SsKzMyHyIDIUKFwKYjRs+N2Gbf7wdM6IXFMGPJ7PSfyIAfCLjhwZW8gRaHwBRAEw1c4UBQKK4DgKRSOEjTMdrvgSsv7TCwDsrbH6wwM4fhTR2hxU4CgMJAUDiGEBN+NTkNtl3HzOfmBLDqi4Yhwv88UHmgbje8lLDrh/+uMvYlCIdtb6P0FQ4hCYQUQVENVPjw+2oOF2i7nnB2h3dlCWQZk4RvPMDCE02Ov0uKazCw7MQIEhadbO9csZuH213hNQjeKo4Cg8MI6ZdJqFmw7HN9ljPbC0NYQhYKOIAICle0ShcIqICjclzf79BAWbn+dd2m6xy1jy4DMeuF/GRjCRRmptLgmM4CgVMGkwl/6ReOGsqBbNZ5S4QNa9L2H3o6h+MxViHt3BAu5L77154Ha9qMIX2uJQkEBaQ1RKHwBBIV3ofD5DVy0SINu1XhBXp50BFv16MMyIJN++Z8MDOE6nbVSZgDBMt7CKYQX4dejI2Ht7Aks+N48c1iIBkZelvpFNWaOAZen5++PhOOv9GGhN+O7nUdqq4T1JhsDKQpFewZECE+5imJXaiGnwffmjMNdtVe54TyLSpYB8UXYh9HpE34nvjcTUFm4QfW186e1XU/wfec4yYcQ4OvXcBuhsS4o8M25EXu2QsLNK+5XHKhkpW9xW7cmLUfbSRGXxOOaKtzhHV9pgHe2cITAv+PneHqWuz0Cqh7oP9fiyD/hiFKdfc0V+DDtThWurUrb97a2OyPeHk4/+L42Y54bPV4beapzb3qdXLQ8k+6LRPsyCEL071ZCalZm5iis9GumPUfBqV1dFhqaqlUBERKgUDiErITVrDDURsE206e3NhwFl2j4VQBQ0fIBB8TXts0E1hepQu6tL1UdR8EtMzCYkennQXyVP+16C64/EqE36sMBo33KLjhQph659VV2tIcBNgqxrxLtCghUdtT+ZCccqKAHRMguUOxqx1Fwyew1hlV5AIKyK9R2tUPla8B9reeofSgQcKAYICh/w+1vfTMyG3iz5Ry1XwUKDpQSEBSG3GrQfanjrwQAenb0z61AwoHSBUTIbOjNlHHkyG61OSBCAhQ9O3LU2go0HCjTgDhyFExqDThQDiCO2qUcQBw5MpADiCNHOmotOFAOII7anQIJyA++083DDiCO2p3sBkQGgsoBxFG7k12A6EEhywHEUbuTv4CYAUPIAcRRu5M/gJgFQ8gBxFG7ky+AWBk1ZP0/9dD0YeeiMdMAAAAASUVORK5CYII="
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.3 UserWeightController

##### 1.3.1 管理员新增普通权限

- put请求，url传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/new_user_weight
```



- 参数

| 参数名     | 参数含义 |
| ---------- | -------- |
| weightType | 权限名   |



- 示例

```bash
$baseUrl/member/user_weight/new_user_weight?weightType=$weightType
```



- 响应状态

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.2 管理员分页查询普通权限信息

- post请求，请求体传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/weight_info
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应格式

```json
{
    "result": {
        "records": [
            {
                "weightId": 1,
                "weightType": "base",
                "createTime": "2023-03-27T16:03:51",
                "updateTime": "2023-03-27T16:03:54"
            },
            {
                "weightId": 2,
                "weightType": "*",
                "createTime": "2023-04-01T21:18:11",
                "updateTime": "2023-04-01T21:18:14"
            },
            {
                "weightId": 3,
                "weightType": "high_read",
                "createTime": "2023-04-01T21:24:27",
                "updateTime": "2023-04-01T21:24:29"
            },
            {
                "weightId": 4,
                "weightType": "high_write",
                "createTime": "2023-04-01T21:24:43",
                "updateTime": "2023-04-01T21:24:46"
            },
            {
                "weightId": 5,
                "weightType": "root_read",
                "createTime": "2023-04-02T13:37:23",
                "updateTime": "2023-04-02T13:37:26"
            },
            {
                "weightId": 6,
                "weightType": "root_write",
                "createTime": "2023-04-02T13:37:34",
                "updateTime": "2023-04-02T13:37:36"
            }
        ],
        "total": 6,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.3 管理员查询指定roleId还未绑定普通权限信息

- post请求，url传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/user_weight/unbind_weight_info
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| roleId | 角色id   |



- 示例

```bash
$baseUrl/member/user_weight/unbind_weight_info?roleId=1
```



- 响应格式

```json
{
    "result": [
        {
            "weightId": 2,
            "weightType": "*",
            "createTime": "2023-04-01T21:18:11",
            "updateTime": "2023-04-01T21:18:14"
        },
        {
            "weightId": 3,
            "weightType": "high_read",
            "createTime": "2023-04-01T21:24:27",
            "updateTime": "2023-04-01T21:24:29"
        },
        {
            "weightId": 4,
            "weightType": "high_write",
            "createTime": "2023-04-01T21:24:43",
            "updateTime": "2023-04-01T21:24:46"
        },
        {
            "weightId": 5,
            "weightType": "root_read",
            "createTime": "2023-04-02T13:37:23",
            "updateTime": "2023-04-02T13:37:26"
        },
        {
            "weightId": 6,
            "weightType": "root_write",
            "createTime": "2023-04-02T13:37:34",
            "updateTime": "2023-04-02T13:37:36"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.3.4 管理员删除指定weightId普通权限类型权限名

- delete请求，url传参
- 需要登录状态
- 需要root角色

```bash
$baseUrl/member/user_weight/delete_weight
```



- 参数

| 参数名   | 参数含义 |
| -------- | -------- |
| weightId | 权限id   |



- 示例

```bash
$baseUrl/member/user_weight/delete_weight?weightId=19
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.4 UserRoleController

##### 1.4.1 管理员新增角色

- put请求，请求体传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/user_role/new_user_role
```



- 参数

| 参数名   | 参数含义                                         |
| -------- | ------------------------------------------------ |
| roleType | 角色名                                           |
| type     | 角色类型种类，0->普通角色类型，1->管理员角色类型 |



- 示例

```json
{
    "roleType": "base_admin",
    "type": 0
}
```



- 响应状态

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.4.2 管理员分页查询角色信息

- post请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/user_role/role_info
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应状态

```json
{
    "result": {
        "records": [
            {
                "roleId": 1,
                "roleType": "user",
                "createTime": "2023-03-27T16:03:21",
                "updateTime": "2023-03-27T16:03:24"
            },
            {
                "roleId": 2,
                "roleType": "*",
                "createTime": "2023-04-01T21:17:57",
                "updateTime": "2023-04-01T21:18:00"
            },
            {
                "roleId": 3,
                "roleType": "admin",
                "createTime": "2023-04-01T21:21:11",
                "updateTime": "2023-04-01T21:21:13"
            },
            {
                "roleId": 4,
                "roleType": "root",
                "createTime": "2023-04-02T13:36:49",
                "updateTime": "2023-04-02T13:36:52"
            }
        ],
        "total": 4,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.4.3 管理员查询管理员角色信息

- post请求，无参数
- 需要root角色
- 需要登录状态

```bash
$baseUrl/member/user_role/admin_role_info
```



- 响应格式

```json
{
    "result": [
        {
            "roleId": 2,
            "roleType": "*",
            "isAdmin": true,
            "createTime": "2023-04-01T21:17:57",
            "updateTime": "2023-04-01T21:18:00"
        },
        {
            "roleId": 3,
            "roleType": "admin",
            "isAdmin": true,
            "createTime": "2023-04-01T21:21:11",
            "updateTime": "2023-04-01T21:21:13"
        },
        {
            "roleId": 4,
            "roleType": "root",
            "isAdmin": true,
            "createTime": "2023-04-02T13:36:49",
            "updateTime": "2023-04-02T13:36:52"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.4.4 管理员删除角色信息

- delete请求，url传参
- 需要root角色
- 需要登录状态

```bash
$baseUrl/member/user_role/delete_role
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| roleId | 角色id   |



- 示例

```bash
$baseUrl/member/user_role/delete_role?roleId=17
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.5 WeightRoleRelationController

##### 1.5.1 管理员批量添加权限，角色关系

- put请求，请求体传参
- 需要 root 角色
- 需要登录状态

```bash
$baseUrl/member/weight_role_relation/new_relations
```



- 参数

| 参数名    | 参数含义     |
| --------- | ------------ |
| roleId    | 角色id       |
| weightIds | 权限id，数组 |



- 示例

```json
{
    "roleId": 1,
    "weightIds": [5, 15]
}
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.5.2 管理员获指定roleId权限，角色关系

- post请求，url传参
- 需要admin权限
- 需要登录状态

```bash
$baseUrl/member/weight_role_relation/relation_info_by_role_id
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| roleId | 角色id   |



- 示例

```bash
$baseUrl/member/weight_role_relation/relation_info_by_role_id?roleId=1
```



- 响应格式

```json
{
    "result": [
        {
            "relationId": 1,
            "weightId": 1,
            "weightType": "base",
            "roleId": 1,
            "roleType": "user",
            "createTime": "2023-03-27T16:04:06",
            "updateTime": "2023-03-27T16:04:08"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.5.3 获指定uid权限，角色关系

- post请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/member/weight_role_relation/relation_info_by_uid
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| uid    | uid      |



- 示例

```bash
$baseUrl/member/weight_role_relation/relation_info_by_uid?uid=1642067605873348610
```



- 响应格式

```json
{
    "result": [
        {
            "relationId": 1,
            "weightId": 1,
            "weightType": "base",
            "roleId": 1,
            "roleType": "user",
            "createTime": "2023-03-27T16:04:06",
            "updateTime": "2023-03-27T16:04:08"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.6 UserRoleRelationController



#### 1.7 CollegeInfoController

##### 1.7.1 管理员添加二级学院

- post请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/college_info/new_college_info
```



- 参数

| 参数名      | 参数含义   |
| ----------- | ---------- |
| collegeName | 二级学院名 |



- 示例

```bash
$baseUrl/member/college_info/new_college_info?collegeName=NEKO
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.7.2 分页查询二级学院信息

- post请求，请求体传参

```bash
$baseUrl/member/college_info/college_info_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "collegeId": 18,
                "collegeName": "动画艺术学院",
                "createTime": "2024-01-16T15:52:39",
                "updateTime": "2024-01-16T15:52:39"
            },
            {
                "collegeId": 17,
                "collegeName": "美术学院",
                "createTime": "2024-01-16T15:52:13",
                "updateTime": "2024-01-16T15:52:13"
            },
            {
                "collegeId": 16,
                "collegeName": "传媒学院",
                "createTime": "2024-01-16T15:51:57",
                "updateTime": "2024-01-16T15:51:57"
            },
            {
                "collegeId": 15,
                "collegeName": "机械制造学院",
                "createTime": "2024-01-16T15:49:58",
                "updateTime": "2024-01-16T15:49:58"
            },
            {
                "collegeId": 14,
                "collegeName": "数字媒体技术学院",
                "createTime": "2024-01-16T15:49:32",
                "updateTime": "2024-01-16T15:49:32"
            },
            {
                "collegeId": 13,
                "collegeName": "大数据学院",
                "createTime": "2024-01-16T15:48:54",
                "updateTime": "2024-01-16T15:48:54"
            },
            {
                "collegeId": 12,
                "collegeName": "人工智能学院",
                "createTime": "2024-01-16T15:48:47",
                "updateTime": "2024-01-16T15:48:47"
            },
            {
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-16T15:48:37",
                "updateTime": "2024-01-16T15:48:37"
            }
        ],
        "total": 10,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.7.3 管理员根据 id 删除二级学院信息

- delete请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/college_info/delete_by_id
```



- 参数

| 参数名    | 参数含义   |
| --------- | ---------- |
| collegeId | 二级学院id |



- 示例

```bash
$baseUrl/member/college_info/delete_by_id?collegeId=19
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.7.4 查询所有二级学院信息

- get请求

```bash
$baseUrl/member/college_info/all_college_info
```



- 响应结果

```json
{
    "result": [
        {
            "collegeId": 1,
            "collegeName": "软件工程学院",
            "createTime": "2024-01-15T11:30:03",
            "updateTime": "2024-01-15T11:30:03"
        },
        {
            "collegeId": 10,
            "collegeName": "通信学院",
            "createTime": "2024-01-16T15:48:08",
            "updateTime": "2024-01-16T15:48:08"
        },
        {
            "collegeId": 11,
            "collegeName": "计算机与科学学院",
            "createTime": "2024-01-16T15:48:37",
            "updateTime": "2024-01-16T15:48:37"
        },
        {
            "collegeId": 12,
            "collegeName": "人工智能学院",
            "createTime": "2024-01-16T15:48:47",
            "updateTime": "2024-01-16T15:48:47"
        },
        {
            "collegeId": 13,
            "collegeName": "大数据学院",
            "createTime": "2024-01-16T15:48:54",
            "updateTime": "2024-01-16T15:48:54"
        },
        {
            "collegeId": 14,
            "collegeName": "数字媒体技术学院",
            "createTime": "2024-01-16T15:49:32",
            "updateTime": "2024-01-16T15:49:32"
        },
        {
            "collegeId": 15,
            "collegeName": "机械制造学院",
            "createTime": "2024-01-16T15:49:58",
            "updateTime": "2024-01-16T15:49:58"
        },
        {
            "collegeId": 16,
            "collegeName": "传媒学院",
            "createTime": "2024-01-16T15:51:57",
            "updateTime": "2024-01-16T15:51:57"
        },
        {
            "collegeId": 17,
            "collegeName": "美术学院",
            "createTime": "2024-01-16T15:52:13",
            "updateTime": "2024-01-16T15:52:13"
        },
        {
            "collegeId": 18,
            "collegeName": "动画艺术学院",
            "createTime": "2024-01-16T15:52:39",
            "updateTime": "2024-01-16T15:52:39"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.8 MajorInfoController

##### 1.8.1 添加专业信息

- post请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/major_info/new_major_info
```



- 参数

| 参数名    | 参数含义             |
| --------- | -------------------- |
| collegeId | 专业所属的二级学院id |
| majorName | 专业名               |



- 示例

```json
{
    "collegeId": 10,
    "majorName": "专业名"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.8.2 分页查询二级学院信息

- post请求，请求体传参

```bash
$baseUrl/member/major_info/major_info_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "majorId": 11,
                "collegeId": 18,
                "collegeName": "动画艺术学院",
                "majorName": "动画制作技术",
                "createTime": "2024-01-17T09:36:58",
                "updateTime": "2024-01-17T09:36:58"
            },
            {
                "majorId": 10,
                "collegeId": 17,
                "collegeName": "美术学院",
                "majorName": "美术艺术",
                "createTime": "2024-01-17T09:36:46",
                "updateTime": "2024-01-17T09:36:46"
            },
            {
                "majorId": 9,
                "collegeId": 16,
                "collegeName": "传媒学院",
                "majorName": "新闻媒体技术",
                "createTime": "2024-01-17T09:36:32",
                "updateTime": "2024-01-17T09:36:32"
            },
            {
                "majorId": 8,
                "collegeId": 15,
                "collegeName": "机械制造学院",
                "majorName": "机械制造",
                "createTime": "2024-01-17T09:34:28",
                "updateTime": "2024-01-17T09:34:28"
            },
            {
                "majorId": 7,
                "collegeId": 14,
                "collegeName": "数字媒体技术学院",
                "majorName": "数字媒体技术",
                "createTime": "2024-01-17T09:34:17",
                "updateTime": "2024-01-17T09:34:17"
            },
            {
                "majorId": 6,
                "collegeId": 13,
                "collegeName": "大数据学院",
                "majorName": "大数据",
                "createTime": "2024-01-17T09:34:04",
                "updateTime": "2024-01-17T09:34:04"
            },
            {
                "majorId": 5,
                "collegeId": 12,
                "collegeName": "人工智能学院",
                "majorName": "人工智能",
                "createTime": "2024-01-17T09:33:53",
                "updateTime": "2024-01-17T09:33:53"
            },
            {
                "majorId": 4,
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "majorName": "计算机科学与技术",
                "createTime": "2024-01-17T09:33:38",
                "updateTime": "2024-01-17T09:33:38"
            }
        ],
        "total": 10,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.8.3 管理员根据专业id删除专业信息

- delete请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/major_info/delete_by_id
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| majorId | 专业id   |



- 示例

```bash
$baseUrl/member/major_info/delete_by_id?majorId=12
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.8.4 获取所有完整专业名信息

- get请求

```bash
$baseUrl/member/major_info/all_full_major_name
```



- 响应结果

```json
{
    "result": [
        {
            "majorId": 1,
            "fullMajorName": "软件工程学院-软件工程"
        },
        {
            "majorId": 3,
            "fullMajorName": "通信学院-通信工程"
        },
        {
            "majorId": 4,
            "fullMajorName": "计算机与科学学院-计算机科学与技术"
        },
        {
            "majorId": 5,
            "fullMajorName": "人工智能学院-人工智能"
        },
        {
            "majorId": 6,
            "fullMajorName": "大数据学院-大数据"
        },
        {
            "majorId": 7,
            "fullMajorName": "数字媒体技术学院-数字媒体技术"
        },
        {
            "majorId": 8,
            "fullMajorName": "机械制造学院-机械制造"
        },
        {
            "majorId": 9,
            "fullMajorName": "传媒学院-新闻媒体技术"
        },
        {
            "majorId": 10,
            "fullMajorName": "美术学院-美术艺术"
        },
        {
            "majorId": 11,
            "fullMajorName": "动画艺术学院-动画制作技术"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.9 ClassInfoController

##### 1.9.1 管理员添加班级信息

- put请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/class_info/new_class_info
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| majorId | 专业id   |



- 示例

```json
{
    "classId": "班级名",
    "majorId": 1
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.9.2 分页查询班级信息

- post请求，请求体传参

```bash
$baseUrl/member/class_info/class_info_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |
| objectId    | 二级学院id，可选 |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "classId": "j20221001",
                "majorId": 4,
                "majorName": "计算机科学与技术",
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-17T11:40:40",
                "updateTime": "2024-01-17T11:40:40"
            },
            {
                "classId": "j20221002",
                "majorId": 4,
                "majorName": "计算机科学与技术",
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-17T11:40:52",
                "updateTime": "2024-01-17T11:40:52"
            },
            {
                "classId": "j20221003",
                "majorId": 4,
                "majorName": "计算机科学与技术",
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-17T11:41:10",
                "updateTime": "2024-01-17T11:41:10"
            },
            {
                "classId": "j20221004",
                "majorId": 4,
                "majorName": "计算机科学与技术",
                "collegeId": 11,
                "collegeName": "计算机与科学学院",
                "createTime": "2024-01-17T11:41:20",
                "updateTime": "2024-01-17T11:41:20"
            },
            {
                "classId": "t20221001",
                "majorId": 3,
                "majorName": "通信工程",
                "collegeId": 10,
                "collegeName": "通信学院",
                "createTime": "2024-01-17T11:39:34",
                "updateTime": "2024-01-17T11:39:34"
            },
            {
                "classId": "t20221002",
                "majorId": 3,
                "majorName": "通信工程",
                "collegeId": 10,
                "collegeName": "通信学院",
                "createTime": "2024-01-17T11:39:51",
                "updateTime": "2024-01-17T11:39:51"
            },
            {
                "classId": "t20221003",
                "majorId": 3,
                "majorName": "通信工程",
                "collegeId": 10,
                "collegeName": "通信学院",
                "createTime": "2024-01-17T11:39:59",
                "updateTime": "2024-01-17T11:39:59"
            },
            {
                "classId": "t20221004",
                "majorId": 3,
                "majorName": "通信工程",
                "collegeId": 10,
                "collegeName": "通信学院",
                "createTime": "2024-01-17T11:40:09",
                "updateTime": "2024-01-17T11:40:09"
            }
        ],
        "total": 11,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.9.3 管理员根据班级id删除班级信息

- delete请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/member/class_info/delete_by_id
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| classId | 班级id   |



- 示例

```bash
$baseUrl/member/class_info/delete_by_id?classId=todo_delete_id
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 1.10 MemberChatInfoController

##### 1.10.1 添加聊天消息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/member/member_chat_info/new_chat_info
```



- 参数

| 参数名 | 参数含义               |
| ------ | ---------------------- |
| toId   | 聊天消息发送对象的 uid |
| body   | 聊天消息，Json 格式    |



- 示例

```json
{
    "toId": "1642067605873348610",
    "body": "{\"text\": \"msg\" }"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.10.2 分页查询指定的聊天对象学号的聊天信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/member/member_chat_info/page_query_by_chat_id
```



- 参数

| 参数名      | 参数含义     |
| ----------- | ------------ |
| currentPage | 当前页数     |
| limited     | 每页数量     |
| objectId    | 聊天对象学号 |



- 示例

```json
{
    "objectId": "1642067605873348610",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "chatId": 16,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"NEKO\"}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:49",
                "updateTime": "2024-02-04T14:42:49"
            },
            {
                "chatId": 15,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"NEKO\"}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:48",
                "updateTime": "2024-02-04T14:42:48"
            },
            {
                "chatId": 14,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:45",
                "updateTime": "2024-02-04T14:42:45"
            },
            {
                "chatId": 13,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:45",
                "updateTime": "2024-02-04T14:42:45"
            },
            {
                "chatId": 12,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:45",
                "updateTime": "2024-02-04T14:42:45"
            },
            {
                "chatId": 11,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:44",
                "updateTime": "2024-02-04T14:42:44"
            },
            {
                "chatId": 10,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:44",
                "updateTime": "2024-02-04T14:42:44"
            },
            {
                "chatId": 9,
                "fromId": "1642067605873348610",
                "toId": "1642067605873348610",
                "body": "{\"text\": \"<img data-src='https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg'/>\", \"system\": {\"title\": \"商品名: 插画点击下方文字查看商品信息\", \"content\": [{\"id\": \"1750068049572130817\", \"text\": \"查看商品信息\"}]}}",
                "isDelete": 0,
                "createTime": "2024-02-04T14:42:44",
                "updateTime": "2024-02-04T14:42:44"
            }
        ],
        "total": 14,
        "size": 8,
        "current": 1,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 1.10.3 分页查询用户自身的聊天对象信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/member/member_chat_info/user_self_chatting_with_page_query
```



- 参数

| 参数名      | 参数含义 |
| ----------- | -------- |
| currentPage | 当前页数 |
| limited     | 每页数量 |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "fromId": "1642067605873348610",
                "realName": "钟昊辰",
                "unreadNumber": 28
            },
            {
                "fromId": "2022djy",
                "realName": "杜金阳",
                "unreadNumber": 2
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



### 2 product视频微服务

#### 2.1 CategoryInfoController

##### 2.1.1 获取层级商品分类信息

- get请求

```bash
$baseUrl/product/category_info/level_category_info
```



- 响应格式
- level只有0-1

```json
{
    "result": [
        {
            "categoryId": 1,
            "parentId": null,
            "level": 0,
            "categoryName": "食品",
            "createTime": "2024-01-18T10:04:29",
            "updateTime": "2024-01-18T10:04:29",
            "child": [
                {
                    "categoryId": 5,
                    "parentId": 1,
                    "level": 1,
                    "categoryName": "生鲜",
                    "createTime": "2024-01-18T10:10:36",
                    "updateTime": "2024-01-18T10:10:54",
                    "child": null
                },
                {
                    "categoryId": 6,
                    "parentId": 1,
                    "level": 1,
                    "categoryName": "熟食",
                    "createTime": "2024-01-18T10:10:49",
                    "updateTime": "2024-01-18T10:10:49",
                    "child": null
                }
            ]
        },
        {
            "categoryId": 2,
            "parentId": null,
            "level": 0,
            "categoryName": "生活用品",
            "createTime": "2024-01-18T10:05:08",
            "updateTime": "2024-01-18T10:05:08",
            "child": [
                {
                    "categoryId": 7,
                    "parentId": 2,
                    "level": 1,
                    "categoryName": "鞋子",
                    "createTime": "2024-01-18T10:11:47",
                    "updateTime": "2024-01-18T10:11:47",
                    "child": null
                },
                {
                    "categoryId": 8,
                    "parentId": 2,
                    "level": 1,
                    "categoryName": "衣服",
                    "createTime": "2024-01-18T10:12:09",
                    "updateTime": "2024-01-18T10:12:09",
                    "child": null
                }
            ]
        },
        {
            "categoryId": 3,
            "parentId": null,
            "level": 0,
            "categoryName": "图书",
            "createTime": "2024-01-18T10:05:48",
            "updateTime": "2024-01-18T10:05:48",
            "child": [
                {
                    "categoryId": 9,
                    "parentId": 3,
                    "level": 1,
                    "categoryName": "教材",
                    "createTime": "2024-01-18T10:12:34",
                    "updateTime": "2024-01-18T10:12:34",
                    "child": null
                },
                {
                    "categoryId": 10,
                    "parentId": 3,
                    "level": 1,
                    "categoryName": "专业书籍",
                    "createTime": "2024-01-18T10:12:48",
                    "updateTime": "2024-01-18T10:12:48",
                    "child": null
                }
            ]
        },
        {
            "categoryId": 4,
            "parentId": null,
            "level": 0,
            "categoryName": "电子产品",
            "createTime": "2024-01-18T10:06:04",
            "updateTime": "2024-01-18T10:06:04",
            "child": [
                {
                    "categoryId": 11,
                    "parentId": 4,
                    "level": 1,
                    "categoryName": "手机",
                    "createTime": "2024-01-18T10:15:01",
                    "updateTime": "2024-01-18T10:15:01",
                    "child": null
                },
                {
                    "categoryId": 12,
                    "parentId": 4,
                    "level": 1,
                    "categoryName": "电脑",
                    "createTime": "2024-01-18T10:15:12",
                    "updateTime": "2024-01-18T10:15:12",
                    "child": null
                }
            ]
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.1.2 管理员新增影视分类信息

- put请求，请求体传参
- 需要admin权限
- 需要登录状态

```bash
$baseUrl/product/category_info/new_category_info
```



- 参数

| 参数名       | 参数含义                           |
| ------------ | ---------------------------------- |
| parentId     | 父分类id，如果是根节点则不传此参数 |
| level        | 分类层级，0，1，最大为1            |
| categoryName | 分类名                             |



- 示例

```json
{
    "parentId": 1,
    "level": 0,
    "categoryName": "分类名"
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.1.3 管理员删除叶节点影视分类信息

- delete请求，url传参
- 需要admin权限
- 需要登录状态
- 只能删除叶节点

```bash
$category/product/category_info/delete_leaf_category_info
```



- 参数

| 参数名     | 参数含义 |
| ---------- | -------- |
| categoryId | 分类id   |



- 示例

```bash
$category/product/category_info/delete_leaf_category_info?categoryId=14
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.2 ProductApplyInfoController

##### 2.2.1 商品上架申请

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/new_apply_info
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| applyImage  | 申请商品的图片   |
| categoryId  | 商品所属的分类id |
| productName | 商品名           |
| description | 商品描述         |
| price       | 商品价格         |



- 响应结果

```bash
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.2.2 管理员分页查询未处理的商品上架请求

- post请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/unhandled_apply_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productApplyId": "apply_1",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "电子产品-数据资源",
                "productName": "NEKO",
                "description": "NEKO",
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_market/2023-01-22/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "status": 0,
                "createTime": "2024-01-18T13:44:39",
                "updateTime": "2024-01-18T16:06:26"
            },
            {
                "productApplyId": "apply_2",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "电子产品-数据资源",
                "productName": "NEKO",
                "description": "NEKO",
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_market/2023-01-22/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "status": 0,
                "createTime": "2024-01-18T13:48:30",
                "updateTime": "2024-01-18T14:16:46"
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.2.3 管理员通过商品上架申请

- post请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/pass_apply
```



- 参数

| 参数名         | 参数含义       |
| -------------- | -------------- |
| productApplyId | 商品上架申请id |



- 示例

```bash
$baseUrl/product/product_apply_info/pass_apply?productApplyId=todo_apply_id
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.2.4 管理员拒绝商品上架申请

- post请求，url传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/reject_apply
```



- 参数

| 参数名         | 参数含义       |
| -------------- | -------------- |
| productApplyId | 商品上架申请id |



- 示例

```bash
$baseUrl/product/product_apply_info/reject_apply?productApplyId=todo_apply_id
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.2.5 分页查询学生自身的商品上架请求

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/product_apply_info/user_self_page_query
```



- 参数

| 参数名      | 参数含义         |
| ----------- | ---------------- |
| queryWords  | 查询关键字，可选 |
| currentPage | 当前页数         |
| limited     | 每页数量         |
| objectId    | 审核状态，可选   |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productApplyId": "apply_2",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "电子产品-数据资源",
                "productName": "NEKO",
                "description": "NEKO",
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_market/2023-01-22/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "status": 0,
                "createTime": "2024-01-18T13:48:30",
                "updateTime": "2024-01-18T14:16:46"
            },
            {
                "productApplyId": "apply_1",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "电子产品-数据资源",
                "productName": "NEKO",
                "description": "NEKO",
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_market/2023-01-22/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "status": 0,
                "createTime": "2024-01-18T13:44:39",
                "updateTime": "2024-01-18T16:06:26"
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.3 ElasticSearchController

##### 2.3.1 分页查询查询商品信息

- post请求，请求体传参

```bash
$baseUrl/product/elasticsearch/product_infos
```



- 参数

| 参数名          | 参数含义                                |
| --------------- | --------------------------------------- |
| uid             | 商品售卖者的学号，可选                  |
| categoryId      | 分类id，可选                            |
| isPriceAscSort  | 是否按价格升序排序，可选，默认true      |
| isUpTimeAscSort | 是否按上架时间升序排序，可选，默认false |
| minPrice        | 最小价格，可选                          |
| maxPrice        | 最大价格，可选                          |
| minTime         | 最早上映时间，可选                      |
| maxTime         | 最晚上映时间，可选                      |
| queryWords      | 查询关键字，可选                        |
| currentPage     | 当前页数                                |
| limited         | 每页数量                                |



- 示例

```json
{
    "uid": "1642067605873348610",
    "categoryId": 17,
    "isPriceAscSort": true,
    "isUpTimeAscSort": false,
    "minPrice": 0,
    "maxPrice": 15,
    "minTime": "2023-07-17 11:29:49",
    "maxTime": "2024-05-17 11:35:41",
    "queryWords": "插画",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productId": "1750068049572130817",
                "uid": "1642067605873348610",
                "userName": "NEKO",
                "realName": "钟昊辰",
                "categoryId": 17,
                "fullCategoryName": "数据资源-电子产品",
                "productName": "插画",
                "description": "插画，网盘链接发货",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "upTime": "2024-01-25 16:05:56",
                "saleNumber": 0,
                "highLight": {
                    "productName": null,
                    "description": [
                        "<b style='color:red'>插画</b>，网盘链接发货"
                    ]
                }
            },
            {
                "productId": "1750067945863770113",
                "uid": "1642067605873348610",
                "userName": "NEKO",
                "realName": "钟昊辰",
                "categoryId": 17,
                "fullCategoryName": "数据资源-电子产品",
                "productName": "插画",
                "description": "插画，云盘链接发货",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "upTime": "2024-01-25 16:05:30",
                "saleNumber": 0,
                "highLight": {
                    "productName": null,
                    "description": [
                        "<b style='color:red'>插画</b>，云盘链接发货"
                    ]
                }
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.4 ProductInfoController

##### 2.4.1 分页查询学生自身的商品信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/product_info/user_self_page_query
```



- 参数

| 参数名      | 参数含义                               |
| ----------- | -------------------------------------- |
| queryWords  | 查询关键字，可选，指定后可按商品名查询 |
| currentPage | 当前页数                               |
| limited     | 每页数量                               |
| objectId    | 商品状态，可选                         |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productId": "1748175057428946946",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "数据资源-电子产品",
                "productName": "插画",
                "description": "插画，网盘链接发货",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "isBan": false,
                "status": 0,
                "upTime": "2024-01-19T10:46:36",
                "productApplyId": "1748174975501606913",
                "createTime": "2024-01-19T10:46:17",
                "updateTime": "2024-01-19T10:46:17"
            },
            {
                "productId": "1748171551460679681",
                "uid": "1642067605873348610",
                "categoryId": 17,
                "fullCategoryName": "数据资源-电子产品",
                "productName": "插画",
                "description": "插画，云盘链接发货",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "price": 15.00,
                "isBan": false,
                "status": 0,
                "upTime": "2024-01-19T10:32:41",
                "productApplyId": "1748171451887902721",
                "createTime": "2024-01-19T10:32:17",
                "updateTime": "2024-01-19T10:41:36"
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "orders": [],
        "optimizeCountSql": true,
        "searchCount": true,
        "maxLimit": null,
        "countId": null,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.2 根据商品id查询用户自己的商品信息

- get请求，url传参
- 需要登录状态

```bash
$baseUrl/product/product_info/user_self_product_by_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_info/user_self_product_by_id?productId=1748171551460679681
```



- 响应结果

```json
{
    "result": {
        "productId": "1748171551460679681",
        "uid": "1642067605873348610",
        "categoryId": 17,
        "fullCategoryName": "数据资源-电子产品",
        "productName": "插画",
        "description": "插画，云盘链接发货",
        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
        "price": 15.00,
        "isBan": false,
        "status": 0,
        "upTime": "2024-01-19T10:32:41",
        "productApplyId": "1748171451887902721",
        "createTime": "2024-01-19T10:32:17",
        "updateTime": "2024-01-19T10:41:36"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.3 修改商品信息

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/product/product_info/update_product_info
```



- 参数

| 参数名       | 参数含义               |
| ------------ | ---------------------- |
| productId    | 要修改的商品id         |
| categoryId   | 商品所属的分类id，可选 |
| productName  | 商品名，可选           |
| description  | 商品描述，可选         |
| price        | 商品价格，可选         |
| displayImage | 商品展示图片，可选     |



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.4 上架商品

- post请求，url传参
- 需要登录状态

```bash
$baseUrl/product/product_info/up_product
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_info/up_product?productId=1750067945863770113
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.5 下架商品

- post请求，url传参
- 需要登录状态

```bash
$baseUrl/product/product_info/down_product
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_info/down_product?productId=1750067945863770113
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.6 获取上架的商品详情信息

- get请求，url传参

```bash
$baseUrl/product/product_info/product_detail_info
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_info/product_detail_info?productId=1750067945863770113
```



- 响应结果

```json
{
    "result": {
        "productId": "1750067945863770113",
        "uid": "1642067605873348610",
        "categoryId": 17,
        "fullCategoryName": "数据资源-电子产品",
        "productName": "插画",
        "description": "插画，云盘链接发货",
        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
        "price": 15,
        "upTime": "2024-01-25 16:05:30.0",
        "saleNumber": 0
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.7 添加商品评论

- put请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/product_info/new_comment
```



- 参数

| 参数名    | 参数含义           |
| --------- | ------------------ |
| orderId   | 订单号             |
| productId | 商品id             |
| comment   | 评论，长度 1 - 500 |
| score     | 评分，范围 1 - 5   |
| isNick    | 是否匿名评论       |



- 示例

```json
{
    "orderId": "202402091609032401755866384899784706",
    "productId": "1755862522365231105",
    "comment": "NEKO",
    "score": 5,
    "isNick": false
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.4.8 获取销量前 8 的商品信息

- get请求

```bash
$baseUrl/product/product_info/top_8_product_infos
```



- 响应结果

```json
{
    "result": [
        {
            "productId": "1750068049572130817",
            "uid": "1642067605873348610",
            "categoryId": 17,
            "productName": "插画",
            "description": "插画，网盘链接发货，4K插画，1920 * 1028插画",
            "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
            "price": 15,
            "isBan": false,
            "status": 1,
            "productApplyId": "4",
            "upTime": "2024-01-26T09:02:52",
            "saleNumber": 33,
            "createTime": "2024-01-19T10:46:17",
            "updateTime": "2024-02-08T09:49:45"
        },
        {
            "productId": "1750067945863770113",
            "uid": "1642067605873348610",
            "categoryId": 17,
            "productName": "插画",
            "description": "插画，云盘链接发货",
            "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
            "price": 15,
            "isBan": false,
            "status": 1,
            "productApplyId": "3",
            "upTime": "2024-01-25T16:05:30",
            "saleNumber": 7,
            "createTime": "2024-01-19T10:32:17",
            "updateTime": "2024-02-01T16:53:01"
        },
        {
            "productId": "1755862522365231105",
            "uid": "2022220187",
            "categoryId": 17,
            "productName": "插画-4k-2k",
            "description": "插画-4k-2k",
            "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-02-09/89b28042-42b8-41da-803c-d6a1b8f4f2b6_IMG_1843.PNG",
            "price": 15,
            "isBan": false,
            "status": 1,
            "productApplyId": "5",
            "upTime": "2024-02-09T15:54:04",
            "saleNumber": 0,
            "createTime": "2024-02-09T15:52:48",
            "updateTime": "2024-02-09T15:54:12"
        },
        {
            "productId": "1755863971488874498",
            "uid": "1642067605873348610",
            "categoryId": 17,
            "productName": "插画",
            "description": "插画，网盘链接发货，4K插画，1920 * 1028插画",
            "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-02-09/a6ddb570-3808-40ea-9aba-1e32c8e1bc92_IMG_0869.JPG",
            "price": 15,
            "isBan": false,
            "status": 1,
            "productApplyId": "6",
            "upTime": "2024-02-09T15:59:48",
            "saleNumber": 0,
            "createTime": "2024-02-09T15:59:08",
            "updateTime": "2024-02-09T15:59:56"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.5 OrderInfoController

##### 2.5.1 获取预生成订单token，保证预生成订单接口幂等性

- get请求
- 需要登录状态
- 此接口获取的token用于提交订单接口处参数使用，保证提交订单接口幂等性

```bash
$baseUrl/product/order_info/preorder_token
```



- 响应结果

```json
{
    "result": "5331463f-87e7-41f6-8e93-5c460c81b601",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.1 提交订单，获取订单号

- put请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/order_info/new_order
```



- 参数

| 参数名                                | 参数含义                                                     |
| ------------------------------------- | ------------------------------------------------------------ |
| token                                 | 2.5.1接口获取，用于保证提交订单接口幂等性，订单提交后为订单号 |
| isFromPurchaseList                    | 是否从购物车中提交                                           |
| newOrderProductInfos                  | 商品详细信息数组                                             |
| productId，newOrderProductInfos子字段 | 商品id                                                       |
| number，newOrderProductInfos子字段    | 购买数量                                                     |



- 示例

```json
{
    "token": "e3e0e153-3c91-4f84-8b96-501bf2a3e30c",
    "isFromPurchaseList": false,
    "newOrderProductInfos": [
        {
            "productId": "1750067945863770113",
            "number": 5
        },
        {
            "productId": "1750068049572130817",
            "number": 5
        }
    ]
}
```



- 响应结果

```json
{
    "result": "202402011638350961752974713649246210",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.2 根据订单号获取支付宝支付页面

- get请求，url传参
- 需要登录状态

```bash
$baseUrl/product/order_info/alipay_page
```



- 参数

| 参数名  | 参数含义  |
| ------- | --------- |
| orderId | 订单号    |
| token   | 用户token |



- 示例

```bash
$baseUrl/product/order_info/alipay_page?orderId=1752255098539438082&token=827cf743-03ce-4c55-b503-1fe3bfa40049
```



- 沙箱账号

```bash
hbwmin1080@sandbox.com
```



- 沙箱密码

```bash
111111
```



- 响应结果
- 结果为一个页面

```bash
<form name="punchout_form" method="post" action="https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&method=alipay.trade.page.pay&sign=jnAClwlvPNSTy5flSz667giADln%2FrBIeeCwrTSSo9AlW0sRoQA4O%2Bxxb0qKtVo%2BYWVetKmTM92xJCVTyl4kAQeLk0i5vJFsaFtz06qEjrMo0fKLU3DygrgsnLNI6B%2BjJjD2XCP7J3US3Zk8wtKNNqCzjROBiIKMdagHXz8c%2BZfzKsnmPOMdQJbM6Sr5yhgGDQCy%2BpLJq4FAmIBj%2B4x%2BLiyyaKOp%2FRSc3S1nljVKKRlDT%2BNeIYLtdyaUozqQx6WmLI0SLBmj1C%2FtgBxz1PhcgUlUoUCYPAQ55MlqYIfzfiOqetjQmKQgT33ZTNLkxMCdVnj%2B1EP%2FRTGFAH2Bmi%2Frtng%3D%3D&return_url=http%3A%2F%2Fneko.natapp1.cc%2Fneko_transaction%2F%23%2Fissuccess&notify_url=http%3A%2F%2Fneko.natapp1.cc%2Ftransaction%2Forder_info%2Falipay_listener&version=1.0&app_id=2021000122638851&sign_type=RSA2&timestamp=2024-01-30+16%3A59%3A05&alipay_sdk=alipay-sdk-java-4.38.34.ALL&format=json">
<input type="hidden" name="biz_content" value="{&quot;out_trade_no&quot;:&quot;1752255098539438082&quot;,&quot;total_amount&quot;:&quot;150.00&quot;,&quot;subject&quot;:&quot;NEKO_TRANSACTION&quot;,&quot;body&quot;:&quot;NEKO_TRANSACTION&quot;,&quot;timeout_express&quot;:&quot;2m&quot;,&quot;product_code&quot;:&quot;FAST_INSTANT_TRADE_PAY&quot;}">
<input type="submit" value="立即支付" style="display:none" >
</form>
<script>document.forms[0].submit();</script>
```



##### 2.5.3 根据订单号获取订单信息，用于检查订单状态

- get请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/product/order_info/remote_invoke_order_info_by_id
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| orderId | 订单号   |



- 示例

```bash
$baseUrl/product/order_info/remote_invoke_order_info_by_id?orderId=202401311052224051752525198848925698
```



- 响应结果
- status为订单状态，-1 -> 取消，0 -> 未支付，1 -> 已支付

```json
{
    "result": {
        "orderId": "202401311052224051752525198848925698",
        "alipayTradeId": null,
        "uid": "1642067605873348610",
        "cost": 150.00,
        "actualCost": 150.00,
        "status": 0,
        "createTime": "2024-01-31T10:52:31",
        "updateTime": "2024-01-31T10:52:31"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.4 分页查询学生自身的订单信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/order_info/user_self_page_query
```



- 参数

| 参数名      | 参数含义           |
| ----------- | ------------------ |
| queryWords  | 查询关键字，可选   |
| currentPage | 当前页数           |
| limited     | 每页数量           |
| objectId    | 商品订单状态，可选 |



- 示例

```json
{
    "queryWords": "插",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "orderId": "202402011652374561752978246809354241",
                "alipayTradeId": "2024020122001436790501934798",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:52:37",
                "updateTime": "2024-02-01T16:53:01",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752978346495377410",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752978346503766017",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011647461621752977025033789441",
                "alipayTradeId": "2024020122001436790501931728",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:47:46",
                "updateTime": "2024-02-01T16:48:03",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752977098698350593",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752977098698350594",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011646346331752976725015236609",
                "alipayTradeId": "2024020122001436790501943032",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:46:34",
                "updateTime": "2024-02-01T16:46:51",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752976795110445057",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752976795102056449",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011644329881752976214799142914",
                "alipayTradeId": "2024020122001436790501941873",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:44:33",
                "updateTime": "2024-02-01T16:44:50",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752976289050906625",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752976289050906626",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011641099911752975363372199937",
                "alipayTradeId": "2024020122001436790501933451",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:41:10",
                "updateTime": "2024-02-01T16:41:38",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752975481181810690",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752975481181810691",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011635077351752973843960311809",
                "alipayTradeId": "2024020122001436790501933450",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:35:07",
                "updateTime": "2024-02-01T16:35:28",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752973931856146433",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752973931864535042",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011632329261752973194640224257",
                "alipayTradeId": "2024020122001436790501941872",
                "uid": "1642067605873348610",
                "cost": 30.00,
                "actualCost": 30.00,
                "status": 1,
                "createTime": "2024-02-01T16:32:33",
                "updateTime": "2024-02-01T16:33:05",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752973333274554371",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    },
                    {
                        "orderDetailId": "1752973333274554370",
                        "productId": "1750067945863770113",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            },
            {
                "orderId": "202402011404573471752936051599446017",
                "alipayTradeId": "2024020122001436790501940340",
                "uid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "status": 1,
                "createTime": "2024-02-01T14:04:57",
                "updateTime": "2024-02-01T14:05:21",
                "orderDetailInfos": [
                    {
                        "orderDetailId": "1752936153697193985",
                        "productId": "1750068049572130817",
                        "productName": "插画",
                        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                        "fullCategoryName": "数据资源-电子产品",
                        "sellerUid": "1642067605873348610",
                        "cost": 15.00,
                        "actualCost": 15.00,
                        "number": 1,
                        "status": 0
                    }
                ]
            }
        ],
        "total": 9,
        "size": 8,
        "current": 1,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.5 根据订单号获取用户自身的订单信息

- get请求，url传参
- 需要登录状态

```bash
$baseUrl/product/order_info/user_self_order_info_by_order_id
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| orderId | 订单号   |



- 示例

```bash
$baseUrl/product/order_info/user_self_order_info_by_order_id?orderId=202402011158043911752904120597975042
```



- 响应结果

```json
{
    "result": {
        "orderId": "202402011158043911752904120597975042",
        "alipayTradeId": null,
        "uid": "1642067605873348610",
        "cost": 15.00,
        "actualCost": 15.00,
        "status": 0,
        "createTime": "2024-02-01T11:58:10",
        "updateTime": "2024-02-01T11:58:10"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.6 获取订单按照状态聚合信息

- get请求
- 需要 admin 角色
- 需要登录状态

```bash
$baseUrl/product/order_info/status_agg
```



- 响应结果

```json
{
    "result": [
        {
            "status": "超时",
            "number": 9
        },
        {
            "status": "已支付",
            "number": 17
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.5.7 获取指定年的订单流水信息

- get请求，url传参
- 需要 admin 角色
- 需要登录状态

```bash
$baseUrl/product/order_info/transaction_in_year
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| year   | 流水年份 |



- 示例

```bash
$baseUrl/product/order_info/transaction_in_year?year=2024-01-01 00:00:00
```



- 响应结果

```json
{
    "result": [
        {
            "transactionMonth": 1,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 2,
            "orderNumber": 17,
            "transactionNumber": 630.00
        },
        {
            "transactionMonth": 3,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 4,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 5,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 6,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 7,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 8,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 9,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 10,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 11,
            "orderNumber": 0,
            "transactionNumber": 0.00
        },
        {
            "transactionMonth": 12,
            "orderNumber": 0,
            "transactionNumber": 0.00
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.6 ProductImageController

##### 2.6.1 查询所有指定的商品id对应的商品图片信息

- get请求，url传参

```bash
$baseUrl/product/product_image/all_by_product_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_image/all_by_product_id?productId=1748241223086329858
```



- 响应结果

```json
{
    "result": [
        {
            "productImageId": "1748241223115689986",
            "productId": "1748241223086329858",
            "productImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
            "createTime": "2024-01-19T15:09:23",
            "updateTime": "2024-01-19T15:09:23"
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.6.2 分页查询指定的商品id对应的商品图片信息

- post请求，请求体传参

```bash
$baseUrl/product/product_image/page_query_by_product_id
```



- 参数

| 参数名      | 参数含义 |
| ----------- | -------- |
| currentPage | 当前页数 |
| limited     | 每页数量 |
| objectId    | 商品id   |



- 示例

```json
{
    "objectId": "1748241223086329858",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "productImageId": "1748241223115689986",
                "productId": "1748241223086329858",
                "productImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "createTime": "2024-01-19T15:09:23",
                "updateTime": "2024-01-19T15:09:23"
            }
        ],
        "total": 0,
        "size": 8,
        "current": 1,
        "pages": 0
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.6.3 添加商品图片

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/product/product_image/new_product_image
```



- 参数

| 参数名       | 参数含义 |
| ------------ | -------- |
| productId    | 商品id   |
| productImage | 商品图片 |



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.7 PurchaseListController

##### 2.7.1 添加商品到购物车

- put请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/purchase_list/add_to_purchase_list
```



- 参数

| 参数名                        | 参数含义           |
| ----------------------------- | ------------------ |
| productInfos                  | 添加的商品信息数组 |
| productId，productInfos子字段 | 商品id             |
| number，productInfos子字段    | 购买数量           |



- 示例

```json
{
    "productInfos": [
        {
            "productId": "1750067945863770113",
            "number": 5
        },
        {
            "productId": "1750068049572130817",
            "number": 5
        }
    ]
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.7.2 获取用户自身的购物车全部商品信息

- get请求
- 需要登录状态

```bash
$baseUrl/product/purchase_list/purchase_list_infos
```



- 响应结果

```json
{
    "result": [
        {
            "productId": "1750068049572130817",
            "uid": "1642067605873348610",
            "categoryId": 17,
            "fullCategoryName": "数据资源-电子产品",
            "productName": "插画",
            "description": "插画，网盘链接发货，4K插画，1920 * 1028插画",
            "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
            "price": 15,
            "upTime": "2024-01-26 09:02:52.0",
            "saleNumber": 1,
            "number": 10,
            "totalPrice": 150
        },
        {
            "productId": "1750067945863770113",
            "uid": "1642067605873348610",
            "categoryId": 17,
            "fullCategoryName": "数据资源-电子产品",
            "productName": "插画",
            "description": "插画，云盘链接发货",
            "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/c3a80147-b81d-4991-90da-fceb7d1543d8_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
            "price": 15,
            "upTime": "2024-01-25 16:05:30.0",
            "saleNumber": 0,
            "number": 10,
            "totalPrice": 150
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.7.3 根据商品id删除购物车中的商品

- delete请求，url传参
- 需要登录状态

```bash
$baseUrl/product/purchase_list/delete_by_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/purchase_list/delete_by_id?productId=1750067945863770113
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.8 OrderDetailInfoController

##### 2.8.1 学生确认收货

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/order_detail_info/confirm_received
```



- 参数

| 参数名        | 参数含义   |
| ------------- | ---------- |
| orderDetailId | 订单详情id |



- 示例

```bash
$baseUrl/product/order_detail_info/confirm_received?orderDetailId=1752936153697193985
```



- 响应结果

```js
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.8.2 分页查询卖家自身的订单详情信息

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/order_detail_info/seller_self_page_query
```



- 参数

| 参数名      | 参数含义               |
| ----------- | ---------------------- |
| queryWords  | 查询关键字，可选       |
| currentPage | 当前页数               |
| limited     | 每页数量               |
| objectId    | 商品订单详情状态，可选 |



- 示例

```json
{
    "queryWords": "插",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "orderDetailId": "1755405553091330049",
                "orderId": "202402080937297941755405458392334338",
                "productId": "1750068049572130817",
                "productName": "插画",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "fullCategoryName": "数据资源-电子产品",
                "sellerUid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 1,
                "status": 0,
                "uid": "1642067605873348610",
                "returnApplyStatus": null,
                "createTime": "2024-02-08T09:38:01",
                "updateTime": "2024-02-08T09:38:01"
            },
            {
                "orderDetailId": "1755405159753695234",
                "orderId": "202402080935503381755405041210081282",
                "productId": "1750068049572130817",
                "productName": "插画",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "fullCategoryName": "数据资源-电子产品",
                "sellerUid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 10,
                "status": 0,
                "uid": "1642067605873348610",
                "returnApplyStatus": null,
                "createTime": "2024-02-08T09:36:27",
                "updateTime": "2024-02-08T09:36:27"
            },
            {
                "orderDetailId": "1755404673931657217",
                "orderId": "202402080933514811755404542721245185",
                "productId": "1750068049572130817",
                "productName": "插画",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "fullCategoryName": "数据资源-电子产品",
                "sellerUid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 10,
                "status": 0,
                "uid": "1642067605873348610",
                "returnApplyStatus": null,
                "createTime": "2024-02-08T09:34:31",
                "updateTime": "2024-02-08T09:34:31"
            },
            {
                "orderDetailId": "1754055209031593985",
                "orderId": "202402041611484131754055138361765889",
                "productId": "1750068049572130817",
                "productName": "插画",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "fullCategoryName": "数据资源-电子产品",
                "sellerUid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 1,
                "status": 1,
                "uid": "1642067605873348610",
                "returnApplyStatus": null,
                "createTime": "2024-02-04T16:12:05",
                "updateTime": "2024-02-07T09:20:38"
            },
            {
                "orderDetailId": "1754055058300891137",
                "orderId": "202402041611084151754054970602188802",
                "productId": "1750068049572130817",
                "productName": "插画",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "fullCategoryName": "数据资源-电子产品",
                "sellerUid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 1,
                "status": 0,
                "uid": "1642067605873348610",
                "returnApplyStatus": null,
                "createTime": "2024-02-04T16:11:29",
                "updateTime": "2024-02-04T16:11:29"
            },
            {
                "orderDetailId": "1754054868265365505",
                "orderId": "202402041610268741754054796354023425",
                "productId": "1750068049572130817",
                "productName": "插画",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "fullCategoryName": "数据资源-电子产品",
                "sellerUid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 1,
                "status": 0,
                "uid": "1642067605873348610",
                "returnApplyStatus": null,
                "createTime": "2024-02-04T16:10:44",
                "updateTime": "2024-02-04T16:10:44"
            },
            {
                "orderDetailId": "1754054582306107394",
                "orderId": "202402041609039721754054448654610433",
                "productId": "1750068049572130817",
                "productName": "插画",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "fullCategoryName": "数据资源-电子产品",
                "sellerUid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 1,
                "status": 0,
                "uid": "2022djy",
                "returnApplyStatus": null,
                "createTime": "2024-02-04T16:09:35",
                "updateTime": "2024-02-04T16:09:35"
            },
            {
                "orderDetailId": "1752978809571704834",
                "orderId": "202402011654335301752978733650608129",
                "productId": "1750068049572130817",
                "productName": "插画",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-01-19/fd0c0a85-824e-4021-975c-e2ad85246572_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "fullCategoryName": "数据资源-电子产品",
                "sellerUid": "1642067605873348610",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 1,
                "status": 0,
                "uid": "1642067605873348610",
                "returnApplyStatus": null,
                "createTime": "2024-02-01T16:54:51",
                "updateTime": "2024-02-01T16:54:51"
            }
        ],
        "total": 23,
        "size": 8,
        "current": 1,
        "pages": 3
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.8.3 获取订单详情按照状态聚合信息

- get请求
- 需要 admin 角色
- 需要登录状态

```bash
$baseUrl/product/order_detail_info/status_agg
```



- 响应结果

```json
{
    "result": [
        {
            "status": "待收货",
            "number": 22
        },
        {
            "status": "已收货",
            "number": 2
        }
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.8.4 添加退货申请

- post请求，form-data上传文件
- 需要登录状态

```bash
$baseUrl/product/order_detail_info/new_return_apply
```



- 参数

| 参数名        | 参数含义     |
| ------------- | ------------ |
| files         | 申请图片数组 |
| orderDetailId | 订单详情id   |
| reason        | 退款原因     |



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.8.5 卖家审核退货申请

- post请求，请求体传参
- 需要登录状态

```bash
$baseUrl/product/order_detail_info/seller_censor_return_appply
```



- 参数

| 参数名   | 参数含义   |
| -------- | ---------- |
| applyId  | 退款申请id |
| response | 回应       |
| isPass   | 是否通过   |



- 示例

```json
{
    "applyId": 1,
    "response": "NEKO",
    "isPass": true
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.9 ProductCommentController

##### 2.9.1 分页查询商品评论信息

- post请求，请求体传参

```bash
$baseUrl/product/product_comment/product_comment_page_query
```



- 参数

| 参数名      | 参数含义 |
| ----------- | -------- |
| currentPage | 当前页数 |
| limited     | 每页数量 |
| objectId    | 商品id   |



- 示例

```json
{
    "objectId": "1755862522365231105",
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "commentId": 9,
                "orderId": "202402091609032401755866384899784706",
                "productId": "1755862522365231105",
                "uid": "1642067605873348610",
                "comment": "非常棒!!!",
                "score": 5,
                "realName": "钟昊辰",
                "isNick": false,
                "isDelete": false,
                "createTime": "2024-02-20T15:39:10",
                "updateTime": "2024-02-20T15:39:10"
            },
            {
                "commentId": 8,
                "orderId": "202402091609032401755866384899784706",
                "productId": "1755862522365231105",
                "uid": "1642067605873348610",
                "comment": "😄",
                "score": 5,
                "realName": null,
                "isNick": true,
                "isDelete": false,
                "createTime": "2024-02-20T15:39:03",
                "updateTime": "2024-02-20T15:39:03"
            },
            {
                "commentId": 7,
                "orderId": "202402091609032401755866384899784706",
                "productId": "1755862522365231105",
                "uid": "1642067605873348610",
                "comment": "😄",
                "score": 5,
                "realName": null,
                "isNick": true,
                "isDelete": false,
                "createTime": "2024-02-20T15:38:59",
                "updateTime": "2024-02-20T15:38:59"
            },
            {
                "commentId": 6,
                "orderId": "202402091609032401755866384899784706",
                "productId": "1755862522365231105",
                "uid": "1642067605873348610",
                "comment": "😄",
                "score": 5,
                "realName": null,
                "isNick": true,
                "isDelete": false,
                "createTime": "2024-02-20T15:38:56",
                "updateTime": "2024-02-20T15:38:56"
            },
            {
                "commentId": 5,
                "orderId": "202402091609032401755866384899784706",
                "productId": "1755862522365231105",
                "uid": "1642067605873348610",
                "comment": "😊",
                "score": 5,
                "realName": null,
                "isNick": true,
                "isDelete": false,
                "createTime": "2024-02-20T15:38:00",
                "updateTime": "2024-02-20T15:38:00"
            },
            {
                "commentId": 4,
                "orderId": "202402091609032401755866384899784706",
                "productId": "1755862522365231105",
                "uid": "1642067605873348610",
                "comment": "😆",
                "score": 5,
                "realName": null,
                "isNick": true,
                "isDelete": false,
                "createTime": "2024-02-20T15:37:08",
                "updateTime": "2024-02-20T15:37:08"
            },
            {
                "commentId": 3,
                "orderId": "202402091609032401755866384899784706",
                "productId": "1755862522365231105",
                "uid": "1642067605873348610",
                "comment": "非常棒!!!",
                "score": 5,
                "realName": null,
                "isNick": true,
                "isDelete": false,
                "createTime": "2024-02-20T15:36:49",
                "updateTime": "2024-02-20T15:36:49"
            },
            {
                "commentId": 2,
                "orderId": "202402091609032401755866384899784706",
                "productId": "1755862522365231105",
                "uid": "1642067605873348610",
                "comment": "非常棒!!!",
                "score": 5,
                "realName": null,
                "isNick": true,
                "isDelete": false,
                "createTime": "2024-02-20T15:36:46",
                "updateTime": "2024-02-20T15:36:46"
            }
        ],
        "total": 9,
        "size": 8,
        "current": 1,
        "pages": 2
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.9.2 根据商品id获取商品评分信息

- get请求，url传参

```bash
$baseUrl/product/product_comment/score_by_product_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/product/product_comment/score_by_product_id?productId=1755862522365231105
```



- 响应结果

```json
{
    "result": {
        "score": 5.00,
        "number": 9
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 2.10 ReturnApplyInfoController

##### 2.10.1 根据订单详情id获取申请退货信息

- get请求，url传参
- 需要登录状态

```bash
$baseUrl/product/return_apply_info/return_apply_info_by_id
```



- 参数

| 参数名        | 参数含义   |
| ------------- | ---------- |
| orderDetailId | 订单详情id |



- 示例

```bash
$baseUrl/product/return_apply_info/return_apply_info_by_id?orderDetailId=1768149097477259265
```



- 响应结果

```json
{
    "result": {
        "applyId": 1,
        "orderDetailId": "1768149097477259265",
        "reason": "NEKO",
        "sellerResponse": null,
        "isSellerPass": null,
        "adminResponse": null,
        "isAdminPass": null,
        "operateAdminId": "",
        "status": 0,
        "productId": "1755862522365231105",
        "productName": "插画-4k-2k",
        "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-02-09/89b28042-42b8-41da-803c-d6a1b8f4f2b6_IMG_1843.PNG",
        "fullCategoryName": "电子产品-数据资源",
        "cost": 15.00,
        "actualCost": 15.00,
        "number": 1,
        "uid": "1642067605873348610",
        "createTime": "2024-04-16T09:31:12",
        "updateTime": "2024-04-16T12:45:13",
        "returnApplyImages": [
            {
                "returnImageId": 1,
                "applyId": 1,
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-04-16/8deacdeb-74fb-44bd-b078-c500dfe526cc_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "createTime": "2024-04-16T09:31:14",
                "updateTime": "2024-04-16T09:31:14"
            },
            {
                "returnImageId": 2,
                "applyId": 1,
                "applyImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-04-16/2f29468c-9e41-49c3-9558-4e2364ec6973_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
                "createTime": "2024-04-16T09:31:14",
                "updateTime": "2024-04-16T09:31:14"
            }
        ]
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 2.10.2 分页查询申请退货信息

- post请求，请求体传参
- 需要admin角色
- 需要登录状态

```bash
$baseUrl/product/return_apply_info/return_apply_info_page_query
```



- 参数

| 参数名      | 参数含义           |
| ----------- | ------------------ |
| queryWords  | 查询关键字，可选   |
| currentPage | 当前页数           |
| limited     | 每页数量           |
| objectId    | 退款审核状态，可选 |



- 示例

```json
{
    "currentPage": 1,
    "limited": 8
}
```



- 响应结果

```json
{
    "result": {
        "records": [
            {
                "applyId": 2,
                "orderDetailId": "1768148647961034753",
                "reason": "NEKO",
                "sellerResponse": null,
                "isSellerPass": null,
                "adminResponse": null,
                "isAdminPass": null,
                "operateAdminId": null,
                "status": 0,
                "productId": "1755862522365231105",
                "productName": "插画-4k-2k",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-02-09/89b28042-42b8-41da-803c-d6a1b8f4f2b6_IMG_1843.PNG",
                "fullCategoryName": "电子产品-数据资源",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 1,
                "uid": "1642067605873348610",
                "createTime": "2024-04-16T11:25:16",
                "updateTime": "2024-04-16T11:25:16",
                "returnApplyImages": null
            },
            {
                "applyId": 1,
                "orderDetailId": "1768149097477259265",
                "reason": "NEKO",
                "sellerResponse": null,
                "isSellerPass": null,
                "adminResponse": null,
                "isAdminPass": null,
                "operateAdminId": "",
                "status": 0,
                "productId": "1755862522365231105",
                "productName": "插画-4k-2k",
                "displayImage": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-02-09/89b28042-42b8-41da-803c-d6a1b8f4f2b6_IMG_1843.PNG",
                "fullCategoryName": "电子产品-数据资源",
                "cost": 15.00,
                "actualCost": 15.00,
                "number": 1,
                "uid": "1642067605873348610",
                "createTime": "2024-04-16T09:31:12",
                "updateTime": "2024-04-16T12:45:13",
                "returnApplyImages": null
            }
        ],
        "total": 2,
        "size": 8,
        "current": 1,
        "pages": 1
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



### 3 third_party第三方微服务

#### 3.1 MailController

##### 3.1.1 发送注册邮件

- post请求
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/mail/send_register_mail
```



- 参数

| 参数名   | 参数含义   |
| -------- | ---------- |
| receiver | 接收者邮件 |
| code     | 验证码     |



- 示例

```bash
$baseUrl/third_party/mail/send_register_mail?receiver=$receiver&code=$code
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.1.2 发送密码重置邮件

- post请求
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/mail/send_password_reset_mail
```



- 参数

| 参数名   | 参数含义   |
| -------- | ---------- |
| receiver | 接收者邮件 |
| code     | 验证码     |



- 示例

```bash
$baseUrl/third_party/mail/send_password_reset_mail?receiver=$receiver&code=$code
```



- 响应格式

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.1.3 发送邮箱登录验证码

- post请求
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/mail/send_log_in_mail
```



- 参数

| 参数名   | 参数含义   |
| -------- | ---------- |
| receiver | 接收者邮件 |
| code     | 验证码     |



- 示例

```bash
$baseUrl/third_party/mail/send_log_in_mail?receiver=$receiver&code=$code
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



#### 3.2 OOSController

##### 3.2.1 获取oss上传信息

- get请求
- 需要登录状态

```bash
$baseUrl/third_party/oss/policy
```



- 响应结果

```json
{
    "result": {
        "accessId": "LTAI5tBonVMHDDUwqkcCGzCr",
        "policy": "eyJleHBpcmF0aW9uIjoiMjAyMy0wNC0xMVQwNzowMDo1Mi42NDJaIiwiY29uZGl0aW9ucyI6W1siY29udGVudC1sZW5ndGgtcmFuZ2UiLDAsMTA0ODU3NjAwMF0sWyJzdGFydHMtd2l0aCIsIiRrZXkiLCJuZWtvL25la29fY29udmVuaWVudC8yMDIzLTA0LTExLyJdXX0=",
        "signature": "DyJi2r4mXLyHM+8FnBZxnTJbxTw=",
        "dir": "neko/neko_convenient/2023-04-11/",
        "host": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com",
        "expire": 1681196452,
        "callbackUrl": "https://192.168.30.1:8004"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.2 oss图片上传

- post请求，form-data上传文件
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/upload_image
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| file   | 文件     |



- 响应结果

```json
{
    "result": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_convenient/2023-06-23/7ef5ba15-8c56-4c07-8c94-8ce75d40d1bb.png",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.3 oss图片批量上传

- post请求，form-data上传文件
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/upload_images
```



- 参数

| 参数名 | 参数含义 |
| ------ | -------- |
| files  | 文件数组 |



- 响应结果

```json
{
    "result": [
        "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-04-11/19aee405-05e5-45c4-8866-71db2bf2782c_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
        "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_transaction/2024-04-11/274253a7-663f-4274-8928-25a0b7cb8f1f_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg"
    ],
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.4 删除oss文件

- delete请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/delete_file
```



- 参数

| 参数名      | 参数含义   |
| ----------- | ---------- |
| ossFilePath | oss文件url |



- 示例

```bash
$baseUrl/third_party/oss/delete_file?ossFilePath=https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_convenient/2023-06-23/bd583144-8681-47e0-8113-50dfced4e9da.png
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.5 oss视频上传

- post请求，form-data上传文件
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/upload_video
```



- 响应结果

```json
{
    "result": "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-07-20/7ffcdf19-4d4c-4440-b454-2bce2735ed24_1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.mp4",
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 3.2.6 批量删除oss文件

- delete请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/third_party/oss/delete_file_batch
```



- 参数

| 参数名       | 参数含义         |
| ------------ | ---------------- |
| ossFilePaths | 数组，oss文件url |



- 示例

```json
[
    "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-08-09/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795.jpeg",
    "https://neko-bucket.oss-cn-shanghai.aliyuncs.com/neko/neko_movie/2023-08-09/1ad3ffe0-e81f-4439-8937-2fc22e2045ba_A400388D-AE79-4F23-8390-7D549A78D795_bak.jpeg"
]
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



### 4 ware库存微服务

#### 4.1 WareInfoController

##### 4.1.1 根据商品id获取库存信息

- get请求，url传参

```bash
$baseUrl/ware/ware_info/ware_info_by_id
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |



- 示例

```bash
$baseUrl/ware/ware_info/ware_info_by_id?productId=1748171067899371521
```



- 响应结果

```json
{
    "result": {
        "wareId": "1748170800231473154",
        "productId": "1748171067899371521",
        "stock": 0,
        "createTime": "2024-01-22T16:08:26",
        "updateTime": "2024-01-22T16:50:14"
    },
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.2 添加库存信息(微服务远程调用)

- post请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/ware/ware_info/new_ware_info
```



- 参数

| 参数名    | 参数含义 |
| --------- | -------- |
| productId | 商品id   |
| stock     | 库存数量 |



- 示例

```bash
$baseUrl/ware/ware_info/new_ware_info?productId=1748262473707929602&stock=5
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.3 修改库存数量

- post请求，url传参
- 需要登录状态

```bash
$baseUrl/ware/ware_info/update_stock
```



- 参数

| 参数名    | 参数含义   |
| --------- | ---------- |
| productId | 商品id     |
| offset    | 库存偏移量 |



- 示例

```bash
$baseUrl/ware/ware_info/update_stock?productId=1749713913915731969&offset=15
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.4 锁定指定库存数量

- post请求，请求体传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/ware/ware_info/lock_stock
```



- 参数

| 参数名                               | 参数含义                 |
| ------------------------------------ | ------------------------ |
| orderId                              | 订单号                   |
| lockProductInfos                     | 要锁定库存的商品信息数组 |
| productId，lockProductInfos的子字段  | 商品id                   |
| lockNumber，lockProductInfos的子字段 | 要锁定库存的数量         |



- 示例

```json
{
    "orderId": "order_id",
    "lockProductInfos": [
        {
            "productId": "1750067945863770113",
            "lockNumber": 5
        },
        {
            "productId": "1750068049572130817",
            "lockNumber": 5
        }
    ]
}
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.5 解锁指定订单号库存

- post请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/ware/ware_info/unlock_stock
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| orderId | 订单号   |



- 示例

```bash
$baseUrl/ware/ware_info/unlock_stock?orderId=202401311052224051752525198848925698
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```



##### 4.1.6 解锁指定订单号涉及的库存并扣除库存，用于确认支付后扣除库存

- post请求，url传参
- 建议只提供给微服务远程调用

```bash
$baseUrl/ware/ware_info/confirm_lock_stock_paid
```



- 参数

| 参数名  | 参数含义 |
| ------- | -------- |
| orderId | 订单号   |



- 示例

```bash
$baseUrl/ware/ware_info/confirm_lock_stock_paid?orderId=202401311521066471752592828817457153
```



- 响应结果

```json
{
    "result": null,
    "responseStatus": "SUCCESS",
    "responseCode": 200,
    "responseMessage": "ok"
}
```

